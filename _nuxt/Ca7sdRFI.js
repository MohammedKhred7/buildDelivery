import{_ as T,a as R}from"./OV-2SOY0.js";import{C as B,_ as F}from"./B-U_5E1s.js";import{_ as P}from"./Ds8rCGvA.js";import S from"./xZbAwfj0.js";import{_ as V,l as q,e as N,m as Q,r as C,c as _,o as v,a as s,i as E,g as H,b as r,v as j,u as o,F as A,h as L,t as p,w as M,q as U}from"./Bb97aE5h.js";import{_ as z,a as G}from"./C2YnDix4.js";import{u as J}from"./CQnUWEIz.js";import"./k23u1sxH.js";import"./B2dly7nB.js";import"./BKdQQWsH.js";import"./BylCEIz_.js";import"./CuS2MlYy.js";import"./BORX7aaH.js";import"./DMgn21Xk.js";import"./8RuOjkVq.js";import"./BJrdavvI.js";import"./y7_-MMbj.js";import"./D2XgM05D.js";import"./0AdltZkL.js";const K={class:"container-xxl py-4 pr-2 pl-2"},O={class:"flex-column md:flex-row align-items-top row-gap-3"},W={class:"col-12 col-md-8"},X={class:"text-center mt-4"},Y={class:"col-12 col-md-4"},Z={class:"summary-card p-4 rounded text-end"},h={class:"summary-row mb-3"},tt={class:"summary-row mb-3"},st={class:"summary-row mb-3"},ot={class:"summary-row mb-3"},et={class:"summary-row total"},nt={key:0,class:"flex align-items-center"},lt={class:"flex justify-content-center gap-2"},rt={__name:"Cart",setup(g){const l=q(),f=N(),a=Q(()=>{const e=l.items||[];let t=0,d=0,u=0,c=0;for(const m of e){const n=m.quantity||0,$=m.price||0,D=m.discountValue||0,I=500;t+=n,d+=$*n,u+=D*n,c+=I*n}const x=d+c;return{totalItems:t,totalProductPrice:d,discount:u,delivery:c,total:x}}),b=e=>{l.addToCart(e)},w=e=>{l.decreaseQuantity(e==null?void 0:e.id)},y=C(null),i=C(!1),k=e=>{i.value=!0,y.value=e==null?void 0:e.id};return(e,t)=>{var x,m;const d=F,u=P,c=S;return v(),_("div",K,[t[13]||(t[13]=s("h1",{class:"mb-4 font-bold text-4xl"},"سلة المشتريات",-1)),E(s("div",O,[s("div",W,[(v(!0),_(A,null,L(o(l).items,n=>(v(),_("div",{key:n.id,class:"mb-3"},[r(B,{product:n,onIncrease:b,onDecrease:w,onRemove:k},null,8,["product"])]))),128)),s("div",X,[s("button",{class:"add-product-btn w-100",onClick:t[0]||(t[0]=n=>{o(f).push("/cart/add-payment")})},"الذهاب إلي الدفع")])]),s("div",Y,[s("div",Z,[t[9]||(t[9]=s("h5",{class:"font-bold mb-4"},"ملخص الطلب",-1)),s("div",h,[t[4]||(t[4]=s("span",null,"عدد المنتجات",-1)),s("span",null,p(o(a).totalItems),1)]),s("div",tt,[t[5]||(t[5]=s("span",null,"إجمالي المنتجات",-1)),s("span",null,p(o(a).totalProductPrice)+" ريـال",1)]),s("div",st,[t[6]||(t[6]=s("span",null,"إجمالي الخصم",-1)),s("span",null,p(o(a).discount)+" % ",1)]),s("div",ot,[t[7]||(t[7]=s("span",null,"رسوم التوصيل",-1)),s("span",null,p(o(a).delivery)+" ريـال",1)]),t[10]||(t[10]=s("hr",{class:"my-3"},null,-1)),s("div",et,[t[8]||(t[8]=s("span",null,"الإجمالي",-1)),s("span",null,p(o(a).total)+" ريـال",1)])])])],512),[[j,((x=o(l).items)==null?void 0:x.length)>0]]),((m=o(l).items)==null?void 0:m.length)<=0?(v(),_("div",nt,[r(d)])):H("",!0),r(c,{visible:o(i),"onUpdate:visible":t[3]||(t[3]=n=>U(i)?i.value=n:null),closable:!1,modal:"",style:{width:"25rem",textAlign:"center",borderRadius:"24px"}},{default:M(()=>[t[11]||(t[11]=s("h1",{class:"font-bold delete-title text-enter text-900"}," حذف المنتج من السلة ",-1)),t[12]||(t[12]=s("p",{class:"p-text-secondary"}," هل أنت متأكد أنك تريد حذف هذا المنتج من سلتك ؟ ",-1)),s("div",lt,[r(u,{class:"delete-btn w-50",type:"button",label:"نعم",severity:"secondary",onClick:t[1]||(t[1]=n=>(o(l).removeFromCart(o(y)),i.value=!1))}),r(u,{class:"cancel-btn w-50",type:"button",label:"إلغاء",onClick:t[2]||(t[2]=n=>i.value=!1)})])]),_:1,__:[11,12]},8,["visible"])])}}},at=V(rt,[["__scopeId","data-v-2b683cda"]]),it={class:"flex flex-column gap-6"},Rt={__name:"index",setup(g){return J({title:"سلة المشتريات"}),(l,f)=>{const a=T,b=at,w=R,y=z;return v(),_("div",null,[r(a,{id:"up"}),s("div",it,[r(b),r(w)]),r(y,{onClicked:f[0]||(f[0]=i=>("scrollTo"in l?l.scrollTo:o(G))("up"))})])}}};export{Rt as default};
