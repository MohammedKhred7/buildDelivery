import{_ as F}from"./DnfuwibA.js";import O from"./DOnK2t2o.js";import Y from"./D3z-2-VN.js";import q from"./ZFe-8RJu.js";import E from"./DtzO9mkn.js";import H from"./COyAXlhX.js";import J from"./z7rOlAwU.js";import{_ as K,j as X,r as m,m as Q,e as W,k as L,X as Z,c as f,o as v,b as a,w as u,a as t,u as e,s as ee,h as U,t as i,n as C,d as w,F as te}from"./B8bw-qgz.js";import oe from"./DvmLBxrt.js";import V from"./MEc1MsVC.js";import{u as le}from"./DSOkz2e5.js";import{_ as se}from"./DHkXt32h.js";import{u as ae}from"./BVGFqH36.js";import"./D89hGFUH.js";import"./Dz-7mMxJ.js";import"./Cy8lMCAr.js";import"./CdANXqyF.js";import"./tnWtlJkU.js";import"./Dx7OPG78.js";const ne=""+new URL("storeReviewIcon.D969uRnl.svg",import.meta.url).href,re={class:"card surface-ground p-5 flex justify-content-center"},ie={class:"flex flex-column"},de={class:"slide-form p-4"},ce={class:""},pe={class:"flex-column gap-2 mb-4"},me={for:"storeName"},ue={class:"flex-column gap-2 mb-4"},_e={for:"description"},fe={class:"flex-column gap-2 mb-4"},ve={for:"phoneNumber"},he={class:"flex-column gap-2 mb-4"},Se={for:"storeActivity"},ge={class:"flex-column gap-3 mb-3"},be={class:"flex gap-4 mb-2"},xe={class:"flex items-center gap-2"},ye={for:"oneShift"},we={class:"flex items-center gap-2"},Ve={for:"twoShifts"},ke={key:0,class:"flex gap-4"},Te={key:1,class:"flex flex-wrap gap-4"},Ue={class:"flex-column gap-2 w-100"},Ce={class:"text-sm"},Ne={class:"flex gap-2"},Ae={class:"flex-column gap-2 w-100"},Ie={class:"text-sm"},$e={class:"flex gap-2"},je={class:"flex pt-4 justify-content-end"},Le=["onClick"],Re={class:"flex flex-column"},De={class:"slide-form p-4"},Me={class:"mb-2"},Pe={key:0,class:"file-dev p-4 bg-white flex justify-content-center align-items-center",style:{height:"170px"}},Ge={for:"fileUpload",class:"flex flex-column text-center gap-1 cursor-pointer"},ze={class:"mt-2"},Be={class:"text-sm text-gray-500 mt-1"},Fe={class:"text-sm text-gray-500 mt-1"},Oe={key:1,class:"file-dev bg-white p-2 mt-4 text-center flex align-items-center justify-content-center gap-4"},Ye=["src","alt"],qe={class:"flex pt-4 justify-content-between gap-4"},Ee=["onClick"],He=["onClick"],Je={class:"flex flex-column"},Ke={class:"flex-column gap-2 mb-4"},Xe={for:"area"},Qe={class:"flex-column gap-2 mb-4"},We={for:"city"},Ze={class:"flex-column gap-2 mb-4"},et={for:"storeActivity"},tt={class:"flex-column gap-2 mb-4"},ot={for:"storeActivity"},lt={class:"flex justify-content-center align-items-center gap-2"},st={class:"flex pt-4 justify-content-between gap-4"},at=["onClick"],nt=["onClick"],rt={key:1,class:"spinner"},it={class:"flex flex-column"},dt={class:"text-center"},ct=["alt"],pt={class:"font-bold"},mt={__name:"createStoreModel",setup(R){const{t:l}=X(),h=m(!1),_=le(),S=Q();function D(r,o){h.value=!1,s.value.city=r,s.value.addressLine=o}const k=m(!1);async function M(){var r,o;k.value=!0;try{const d=await S.upladFiles(T.value);if(s.value.imageId=d,d){const y=await _.buildStoreObject(s.value,(r=S.ProfileUser)==null?void 0:r.id,(o=S.ProfileUser)==null?void 0:o.IdStore);await _.PostCreateStore(y)}}catch(d){console.log(d)}finally{k.value=!1}}W(()=>{_.GetAllStoreTypes(),_.GetAllArea();const r=localStorage.getItem("user");r?S.ProfileUser=JSON.parse(r):S.ProfileUser={}});const s=m({name:"",phoneNumber:"",description:"",StoreTypes:null,openTimes:[{from:null,to:null},{from:null,to:null}],imageId:null,selectedArea:null,city:"",addressLine:""});function P(r){const o=String.fromCharCode(r.keyCode);/[0-9]/.test(o)||r.preventDefault(),s.value.phoneNumber=r.target.value.replace(/\D/g,"").slice(0,9)}const N=L(()=>{const r=s.value,o=r.openTimes.some(d=>d.from&&d.to);return!!(r.name&&r.phoneNumber&&r.description&&r.StoreTypes&&o)}),A=L(()=>{const r=s.value;return!!(r.selectedArea&&r.city&&r.addressLine)}),g=m(null),T=m(null);function G(r){const o=r.target.files[0];if(T.value=r.target.files[0],o&&o.size<=2*1024*1024){const d=new FileReader;d.onload=y=>{g.value=y.target.result},d.readAsDataURL(o)}else alert(l("createStore.file_too_large"))}const x=m({storeName:"",storeActivity:"",mode:"one",times:["","","",""]});return m(),m(),m([{name:"الرياض",code:"NY"},{name:"جدة",code:"RM"},{name:"المدينة",code:"LDN"},{name:"مكة",code:"IST"},{name:"الدمام",code:"PRS"}]),m([{name:"حي الجامعه",code:"NY"},{name:"حي الشهيد",code:"RM"},{name:"شارع 14 اكتوبر",code:"LDN"}]),(r,o)=>{const d=F,y=O,c=Y,z=q,B=E,I=H,$=J,j=Z("SwiperSlide");return v(),f("div",re,[a(y,{visible:e(h),"onUpdate:visible":o[0]||(o[0]=b=>ee(h)?h.value=b:null),header:e(l)("createStore.choose_on_map"),modal:!0,class:"p-fluid",style:{width:"1000px",textAlign:"center",borderRadius:"24px"}},{default:u(()=>[t("div",null,[a(d,{onConfirm:D})])]),_:1},8,["visible","header"]),a(e(oe),{linear:"",readonly:!0},{default:u(()=>[a(e(V),{class:"surface-ground",dir:"ltr",header:e(l)("createStore.store_info")},{content:u(({nextCallback:b})=>[t("div",ie,[a(j,null,{default:u(()=>[t("div",de,[t("div",ce,[t("div",pe,[t("label",me,i(e(l)("createStore.store_name"))+" *",1),a(c,{id:"storeName",modelValue:e(s).name,"onUpdate:modelValue":o[1]||(o[1]=n=>e(s).name=n),placeholder:e(l)("createStore.enter_store_name")},null,8,["modelValue","placeholder"])]),t("div",ue,[t("label",_e,i(e(l)("createStore.store_details"))+" *",1),a(c,{id:"description",modelValue:e(s).description,"onUpdate:modelValue":o[2]||(o[2]=n=>e(s).description=n),placeholder:e(l)("createStore.enter_store_details")},null,8,["modelValue","placeholder"])]),t("div",fe,[t("label",ve,i(e(l)("createStore.phone_number"))+" *",1),t("div",null,[a(B,null,{default:u(()=>[a(z,{style:{"margin-bottom":"0.5rem","border-radius":"8px"}},{default:u(()=>o[19]||(o[19]=[t("span",null," +967",-1)])),_:1,__:[19]}),a(c,{id:"phoneNumber",onKeypress:P,inputId:"integeronly",modelValue:e(s).phoneNumber,"onUpdate:modelValue":o[3]||(o[3]=n=>e(s).phoneNumber=n),placeholder:e(l)("createStore.enter_phone_number")},null,8,["modelValue","placeholder"])]),_:1})])]),t("div",he,[t("label",Se,i(e(l)("createStore.store_activity"))+" *",1),a(I,{id:"storeActivity",value:"id",options:e(_).StoreTypes,optionLabel:"name",modelValue:e(s).StoreTypes,"onUpdate:modelValue":o[4]||(o[4]=n=>e(s).StoreTypes=n),placeholder:e(l)("createStore.select_store_activity")},null,8,["options","modelValue","placeholder"])]),t("div",ge,[t("label",null,i(e(l)("createStore.work_hours"))+" *",1),t("div",be,[t("div",xe,[a($,{modelValue:e(x).mode,"onUpdate:modelValue":o[5]||(o[5]=n=>e(x).mode=n),inputId:"oneShift",name:"mode",value:"one"},null,8,["modelValue"]),t("label",ye,i(e(l)("createStore.one_shift")),1)]),t("div",we,[a($,{modelValue:e(x).mode,"onUpdate:modelValue":o[6]||(o[6]=n=>e(x).mode=n),inputId:"twoShifts",name:"mode",value:"two"},null,8,["modelValue"]),t("label",Ve,i(e(l)("createStore.two_shifts")),1)])])]),e(x).mode==="one"?(v(),f("div",ke,[a(c,{class:"w-100",placeholder:e(l)("createStore.from"),type:"time",modelValue:e(s).openTimes[0].from,"onUpdate:modelValue":o[7]||(o[7]=n=>e(s).openTimes[0].from=n)},null,8,["placeholder","modelValue"]),a(c,{class:"w-100",placeholder:e(l)("createStore.to"),type:"time",modelValue:e(s).openTimes[0].to,"onUpdate:modelValue":o[8]||(o[8]=n=>e(s).openTimes[0].to=n)},null,8,["placeholder","modelValue"])])):e(x).mode==="two"?(v(),f("div",Te,[t("div",Ue,[t("div",null,[t("label",Ce,i(e(l)("createStore.one_shift")),1)]),t("div",Ne,[a(c,{class:"w-100",placeholder:e(l)("createStore.from"),type:"time",modelValue:e(s).openTimes[0].from,"onUpdate:modelValue":o[9]||(o[9]=n=>e(s).openTimes[0].from=n)},null,8,["placeholder","modelValue"]),a(c,{class:"w-100",placeholder:e(l)("createStore.to"),type:"time",modelValue:e(s).openTimes[0].to,"onUpdate:modelValue":o[10]||(o[10]=n=>e(s).openTimes[0].to=n)},null,8,["placeholder","modelValue"])])]),t("div",Ae,[t("div",null,[t("label",Ie,i(e(l)("createStore.two_shifts")),1)]),t("div",$e,[a(c,{class:"w-100",placeholder:e(l)("createStore.from"),type:"time",modelValue:e(s).openTimes[1].from,"onUpdate:modelValue":o[11]||(o[11]=n=>e(s).openTimes[1].from=n)},null,8,["placeholder","modelValue"]),a(c,{class:"w-100",placeholder:e(l)("createStore.to"),type:"time",modelValue:e(s).openTimes[1].to,"onUpdate:modelValue":o[12]||(o[12]=n=>e(s).openTimes[1].to=n)},null,8,["placeholder","modelValue"])])])])):U("",!0)])])]),_:1})]),t("div",je,[t("button",{onClick:n=>e(N)?b():null,class:C(e(N)?"w-100 add-product-btn":"w-100 add-product-btn disabled")},[w(i(e(l)("createStore.next"))+" ",1),o[20]||(o[20]=t("i",{class:"pi pi-arrow-circle-left"},null,-1))],10,Le)])]),_:1},8,["header"]),a(e(V),{header:e(l)("createStore.store_logo")},{content:u(({prevCallback:b,nextCallback:n})=>[t("div",Re,[a(j,null,{default:u(()=>[t("div",De,[t("h3",Me,i(e(l)("createStore.attach_store_logo")),1),e(g)?U("",!0):(v(),f("div",Pe,[t("input",{id:"fileUpload",type:"file",onChange:G,accept:".jpg,.jpeg,.png",class:"hidden"},null,32),t("label",Ge,[o[21]||(o[21]=t("i",{class:"pi pi-upload",style:{"font-size":"2rem"}},null,-1)),t("span",ze,i(e(l)("createStore.click_to_upload_logo")),1),t("span",Be,i(e(l)("createStore.image_type")),1),t("span",Fe,i(e(l)("createStore.image_size")),1)])])),e(g)?(v(),f("div",Oe,[t("img",{src:e(g),alt:e(l)("createStore.uploaded_logo_alt"),style:{"max-height":"150px","max-width":"100%","border-radius":"8px"}},null,8,Ye),t("button",{class:"btn-remove",onClick:o[13]||(o[13]=p=>(g.value=null,T.value=null))},o[22]||(o[22]=[t("i",{class:"pi pi-trash"},null,-1)]))])):U("",!0)])]),_:1})]),t("div",qe,[t("button",{onClick:b,class:"w-100 prev-btn"},[o[23]||(o[23]=t("i",{class:"pi pi-arrow-circle-right"},null,-1)),w(" "+i(e(l)("createStore.previous")),1)],8,Ee),t("button",{class:C(e(g)?"w-100 add-product-btn":"w-100 add-product-btn disabled"),onClick:p=>e(g)?n():null},o[24]||(o[24]=[w("التالي "),t("i",{class:"pi pi-arrow-circle-left"},null,-1)]),10,He)])]),_:1},8,["header"]),a(e(V),{header:e(l)("createStore.location")},{content:u(({prevCallback:b,nextCallback:n})=>[t("div",Je,[t("div",null,[t("div",Ke,[t("label",Xe,i(e(l)("createStore.area"))+" *",1),a(I,{id:"arew",modelValue:e(s).selectedArea,"onUpdate:modelValue":o[14]||(o[14]=p=>e(s).selectedArea=p),options:e(_).allArea,optionLabel:"areaName",placeholder:e(l)("createStore.select_area"),class:"w-full"},null,8,["modelValue","options","placeholder"])]),t("div",Qe,[t("label",We,i(e(l)("createStore.city"))+" *",1),a(c,{id:"city",modelValue:e(s).city,"onUpdate:modelValue":o[15]||(o[15]=p=>e(s).city=p),placeholder:e(l)("createStore.enter_city")},null,8,["modelValue","placeholder"])]),t("div",Ze,[t("label",et,i(e(l)("createStore.street"))+" *",1),a(c,{id:"storeActivity",modelValue:e(s).addressLine,"onUpdate:modelValue":o[16]||(o[16]=p=>e(s).addressLine=p),placeholder:e(l)("createStore.enter_street")},null,8,["modelValue","placeholder"])]),t("div",tt,[t("label",ot,i(e(l)("createStore.address_details"))+" *",1),a(c,{id:"storeActivity",modelValue:e(s).description,"onUpdate:modelValue":o[17]||(o[17]=p=>e(s).description=p),placeholder:e(l)("createStore.enter_address_details")},null,8,["modelValue","placeholder"])]),t("div",lt,[o[25]||(o[25]=t("i",{class:"pi pi-map-marker text-orange-500"},null,-1)),t("a",{class:"text-gray-800 hover:text-orange-500",onClick:o[18]||(o[18]=p=>h.value=!e(h))},i(e(l)("createStore.select_location")),1)])])]),t("div",st,[t("button",{onClick:b,class:"w-100 prev-btn"},[o[26]||(o[26]=t("i",{class:"pi pi-arrow-circle-right"},null,-1)),w(" "+i(e(l)("createStore.previous")),1)],8,at),t("button",{onClick:async()=>{e(A)&&(await M(),e(S).sucsses&&n()),e(S).sucsses=!1},class:C(e(A)?"w-100 add-product-btn":"w-100 add-product-btn disabled")},[e(k)?(v(),f("span",rt)):(v(),f(te,{key:0},[t("span",null,i(e(l)("createStore.next")),1),o[27]||(o[27]=t("i",{class:"pi pi-arrow-circle-left"},null,-1))],64))],10,nt)])]),_:1},8,["header"]),a(e(V),{header:e(l)("createStore.review_store")},{default:u(()=>[t("div",it,[t("div",dt,[t("img",{src:ne,alt:e(l)("createStore.review_icon_alt")},null,8,ct),t("div",pt,[t("p",null,i(e(l)("createStore.request_under_review")),1),t("p",null,i(e(l)("createStore.review_notification")),1)])])])]),_:1},8,["header"])]),_:1})])}}},ut=K(mt,[["__scopeId","data-v-2c897301"]]),_t={class:"login-container"},Lt={__name:"index",setup(R){return ae({title:"إضافة متجر"}),(l,h)=>{const _=ut;return v(),f("div",_t,[a(se),a(_,{class:"mt-4 mb-2"})])}}};export{Lt as default};
