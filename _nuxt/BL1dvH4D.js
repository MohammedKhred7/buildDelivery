import{_ as P,l as N,m as $,c as o,o as c,a as s,h as V,u as p,y as D,d,t as n}from"./2_s1o7K9.js";const S={class:"product-card p-0 pb-3"},T=["src","alt"],j={key:0,class:"badge dicount"},A={class:"product-price mb-2"},E={key:0,class:"old-price"},O={class:"action-area"},Q={key:1,class:"quantity-box"},R={class:"count"},h={__name:"cardProduct",props:{product:{type:Object,required:!0},editProduct:{type:Boolean,default:!1}},emits:["linkClick","edit"],setup(e,{emit:q}){const B=D(),u=N(),a=q,l=e,i=$(()=>{const r=u.items.find(t=>t.id===l.product.id);return r?r.quantity:0}),m=()=>{i.value++,u.addToCart(l.product)},I=()=>{i.value>0&&(i.value--,u.decreaseQuantity(l.product.id))};return(r,t)=>{var k,b,y,C,f,v,g;return c(),o("div",S,[s("img",{class:"product-image",src:(b=(k=e.product)==null?void 0:k.imagesIds)!=null&&b[0]?p(B).public.urlImage+e.product.imagesIds[0]:"",alt:e.product.title,onClick:t[0]||(t[0]=x=>a("linkClick"))},null,8,T),(y=e.product)!=null&&y.discountValue?(c(),o("div",j,[t[3]||(t[3]=s("i",{class:"pi pi-bolt"},null,-1)),d(" "+n("خصم : "+((C=e.product)==null?void 0:C.discountValue)+" % "),1)])):V("",!0),s("h3",{class:"product-title pr-3 pl-3 ellipsis-text",onClick:t[1]||(t[1]=x=>a("linkClick"))},n(e.product.title),1),s("div",A,[d(n((f=e.product)==null?void 0:f.priceAfterDiscount)+" ﷼ ",1),(v=e.product)!=null&&v.discountValue?(c(),o("span",E,n((g=e.product)==null?void 0:g.price)+" ﷼ ",1)):V("",!0)]),s("div",O,[e.editProduct?(c(),o("button",{key:0,class:"edit-product-btn",onClick:t[2]||(t[2]=x=>a("edit",e.product.id))},t[4]||(t[4]=[d(" تعديل المنتج"),s("i",{class:"pi pi-pen-to-square mr-2"},null,-1)]))):p(i)>0?(c(),o("div",Q,[s("button",{onClick:I,class:"counter-btn"},"-"),s("span",R,n(p(i)),1),s("button",{onClick:m,class:"counter-btn"},"+")])):(c(),o("button",{key:2,class:"add-btn",onClick:m},t[5]||(t[5]=[d(" إضافة إلى السلة"),s("i",{class:"pi pi-shopping-cart mr-2"},null,-1)])))])])}}},z=P(h,[["__scopeId","data-v-6c3b1434"]]);export{z as c};
