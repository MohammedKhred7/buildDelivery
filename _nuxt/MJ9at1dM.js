import{_ as de,a as ie}from"./CrNvm3DK.js";import ue from"./BnyXxnej.js";import ce from"./D3z-2-VN.js";import pe from"./pl2LcV2n.js";import ve from"./CykHEsyL.js";import me from"./D8aCgD11.js";import fe from"./COyAXlhX.js";import{_ as be}from"./DBvMFh_p.js";import{_ as ge}from"./B9ixgvoB.js";import _e from"./DOnK2t2o.js";import ye from"./F-oyqQTZ.js";import $e from"./BaO6X7Fj.js";import{_ as X,k as G,j as re,m as le,r as w,c as d,o as a,a as o,b as i,g as Y,h as u,t as s,u as l,F,i as E,w as D,d as we,s as g,K as he,L as Se,e as ke,G as Oe}from"./B8bw-qgz.js";import{u as se}from"./BaEvihr1.js";import{_ as De}from"./CuAYuAcm.js";import{_ as Ce,a as je}from"./AquvBK-p.js";import{u as Ve}from"./BVGFqH36.js";import"./BDufnC7Z.js";import"./Cj21L3Vi.js";import"./CdANXqyF.js";import"./DDjvz5j0.js";import"./DDyLTzb0.js";import"./Dwnst9H8.js";import"./Cy8lMCAr.js";import"./CElyrDPd.js";import"./BAjhaC56.js";import"./DAkP3l9d.js";import"./CguioKPc.js";import"./Dx7OPG78.js";import"./DSOkz2e5.js";import"./DqROFvS5.js";import"./Bq9Wevo-.js";import"./D89hGFUH.js";import"./Dz-7mMxJ.js";import"./tnWtlJkU.js";const Ue=""+new URL("searchImg.CKSdbY9U.svg",import.meta.url).href,Ie={class:"card p-3 my-3"},Re={class:"font-bold orderStatus"},Pe={class:"flex row gap-2 order-info"},Le=["src"],Ne={class:"text-center"},Te={class:"flex justify-content-between p-2"},Me={class:"order-price"},xe={class:"order-details my-3 p-3"},Be={class:"font-bold"},Ge={class:"product-amount flex align-items-center justify-content-between"},Fe={class:"font-bold"},qe={class:"product-amount flex align-items-center justify-content-between"},Ae={class:"font-bold"},ze={class:"order-btns flex gap-2"},Ee={key:0,class:"add-product-btn w-100"},He={key:1,class:"add-product-btn w-100"},Je={key:4,class:"add-product-btn w-100"},Ke={key:0},Qe={key:1,class:"spinner"},We={class:"text-xl font-bold"},Ye={class:"flex justify-end gap-2"},Xe={class:"text-xl font-bold"},Ze={class:"text-right"},et={class:"font-bold",style:{color:"#000"}},tt={class:"flex-column flex-wrap justify-center gap-3 py-2 mb-3"},ot={class:"flex items-center gap-2"},rt={for:"ingredient1"},lt={class:"flex items-center gap-2"},st={for:"ingredient2"},nt={class:"flex items-center gap-2"},at={for:"ingredient3"},dt={class:"flex items-center gap-2"},it={for:"ingredient4"},ut={key:0,class:"w-full"},ct={class:"flex justify-end gap-2"},pt={key:0},vt={key:1,class:"spinner"},mt={class:"text-xl font-bold"},ft={class:"text-right"},bt={class:"font-bold",style:{color:"#000"}},gt={class:"flex-column flex-wrap justify-center gap-3 py-2 mb-3"},_t={class:"flex items-center gap-2"},yt={for:"ingredient1"},$t={class:"flex items-center gap-2"},wt={for:"ingredient2"},ht={class:"flex items-center gap-2"},St={for:"ingredient3"},kt={class:"flex items-center gap-2"},Ot={for:"ingredient4"},Dt={key:0,class:"w-full"},Ct={class:"flex justify-end gap-2"},jt={key:0},Vt={key:1,class:"spinner"},Ut={class:"text-xl font-bold"},It={class:"flex justify-end gap-2"},Rt={class:"text-xl font-bold"},Pt={class:"flex justify-end gap-2"},Lt={key:0},Nt={key:1,class:"spinner"},Tt={class:"text-xl font-bold"},Mt={class:"flex-column text-right pb-3"},xt={class:"font-bold"},Bt={class:"flex justify-end gap-2"},Gt={key:0},Ft={key:1,class:"spinner"},qt={class:"text-xl font-bold"},At={class:"flex justify-end gap-2"},zt={key:0},Et={key:1,class:"spinner"},Ht={class:"text-xl font-bold"},Jt={class:"flex justify-end gap-2"},Kt={key:0},Qt={key:1,class:"spinner"},Wt={class:"text-xl font-bold"},Yt={class:"flex justify-end gap-2"},Xt={key:0},Zt={key:1,class:"spinner"},eo={__name:"orderCardStatus",props:{order:{type:Object,required:!0}},setup(p){const n=se(),_=p,h=G(()=>{var t,e;return(t=_.order)!=null&&t.orderDetails?(e=_.order)==null?void 0:e.orderDetails.reduce((j,y)=>j+Number(y.quantity||0),0):0}),A=G(()=>{var t,e;return(t=_.order)!=null&&t.orderDetails?(e=_.order)==null?void 0:e.orderDetails.reduce((j,y)=>j+Number(y.unitPrice||0)*Number(y.quantity||0),0):0}),S=G(()=>{var t,e;return(t=_.order)!=null&&t.orderDetails?(e=_.order)==null?void 0:e.orderDetails.reduce((j,y)=>{const V=(Number(y.unitPrice)||0)*(Number(y.quantity)||0),I=Number(y.discount)||0;return j+V*I/100},0):0}),R=G(()=>{var t,e;return(t=_.order)!=null&&t.orderDetails?A.value-S.value+(((e=_.order)==null?void 0:e.deliveryPrice)||0):0}),{t:U}=re(),C=le(),H=localStorage.getItem("user");C.ProfileUser=JSON.parse(H);const $=C.ProfileUser.role,q=G(()=>{const t=_.order.orderStatus,e=`order.statuses.${t}`,j=U(e);return!j||j===e?t||_.order.orderStatus:j}),c=w([]),P=w(null),f=w(!1),v=w(!1),O=w(!1),B=w(!1),L=w(!1),N=w(!1),T=w(!1),M=w(!1),x=w(!1);async function J(t,e){t==="Driver"?N.value=!0:t==="ServiceProvider"&&(await n.ChnageOrderStatus(e,1),n.isSuccess&&(f.value=!0))}async function K(t,e){t==="ServiceProvider"&&(await n.ChnageOrderStatus(e,5),n.isSuccess&&console.log(n.isSuccess))}async function z(t){if(await n.ChnageOrderStatus(t,5),n.isSuccess)v.value=!1;else return null}async function Q(t){await n.ChnageOrderStatus(t,4),n.isSuccess&&(L.value=!1,n.GetOrders("","","","",C.ProfileUser.id,"",$))}async function W(t){await n.ChnageOrderStatus(t,2),n.isSuccess&&(N.value=!1)}async function k(t){await n.ChnageOrderStatus(t,6),n.isSuccess&&(T.value=!1)}async function ne(t){await n.ChnageOrderStatus(t,6),n.isSuccess&&(x.value=!1)}async function ae(t){await n.ChnageOrderStatus(t,3),n.isSuccess&&(M.value=!1,n.GetOrders("","","","",C.ProfileUser.id,"",$))}return(t,e)=>{var ee,te;const j=be,y=ge,V=_e,I=ye,Z=$e;return a(),d(F,null,[o("div",Ie,[o("h1",Re,s(l(q)),1),o("p",null,s(t.$t("order.page.order_number"))+s((te=(ee=p.order.orderDetails)==null?void 0:ee[0])==null?void 0:te.orderID),1),o("div",Pe,[(a(!0),d(F,null,E(p.order.orderDetails,(r,b)=>{var m,oe;return a(),d("div",{key:b,class:"order-cards p-2 flex-column mb-3"},[(oe=(m=r.offer)==null?void 0:m.images)!=null&&oe.length?(a(),d("img",{key:0,src:l(n).urlImage+r.offer.images[0],alt:""},null,8,Le)):u("",!0),o("h3",Ne,s(r.productName),1),o("div",Te,[o("span",Me,s(r.unitPrice)+" ر.ي",1),o("span",null,s(r.quantity)+"x",1)])])}),128))]),o("div",xe,[o("h1",Be,s(t.$t("order.order_review")),1),o("div",Ge,[o("p",null,s(t.$t("order.produts_number")),1),o("h1",Fe,s(l(h)),1)]),o("div",qe,[o("p",null,s(t.$t("order.total")),1),o("h1",Ae,s(l(R))+" ر.ي",1)])]),o("div",ze,[p.order.orderReadyBtn?(a(),d("button",Ee,s(t.$t("order.page.actions.order_ready")),1)):u("",!0),p.order.confirmDeliveredBtn?(a(),d("button",He,s(t.$t("order.page.actions.finish_delivery")),1)):u("",!0),i(j,{class:"edit-product-btn w-100 text-center",to:{path:`/orders/${p.order.id}`,query:{order:encodeURIComponent(JSON.stringify(p.order))}}},{default:D(()=>[we(s(t.$t("order.page.view_details")),1)]),_:1},8,["to"]),p.order.orderStatus==4&&l($)==="Client"?(a(),d("button",{key:2,onClick:e[0]||(e[0]=r=>x.value=!0),class:"accept-order-btn w-100"},s(t.$t("order.page.actions.confirm_received")),1)):u("",!0),(p.order.orderStatus==0||p.order.orderStatus==1)&&l($)==="Client"?(a(),d("button",{key:3,onClick:e[1]||(e[1]=r=>v.value=!0),class:"reject-order-btn w-100"},s(t.$t("order.page.actions.cancel_order")),1)):u("",!0),(p.order.orderStatus==2||p.order.orderStatus==3)&&l($)=="Client"?(a(),d("button",Je,s(t.$t("order.page.actions.track_order")),1)):u("",!0),p.order.orderStatus==4&&l($)==="Driver"?(a(),d("button",{key:5,onClick:e[2]||(e[2]=r=>T.value=!0),class:"accept-order-btn w-100"},s(t.$t("order.page.actions.finish_delivery")),1)):u("",!0),p.order.orderStatus==3&&l($)=="Driver"?(a(),d("button",{key:6,onClick:e[3]||(e[3]=r=>L.value=!0),class:"add-product-btn w-100"},s(t.$t("order.page.actions.arrived")),1)):u("",!0),p.order.orderStatus==2&&l($)=="Driver"?(a(),d("button",{key:7,onClick:e[4]||(e[4]=r=>M.value=!0),class:"order-ready-btn w-100"},s(t.$t("order.page.actions.order_ready")),1)):u("",!0),p.order.orderStatus==0&&l($)==="ServiceProvider"||p.order.orderStatus==0&&l($)==="Driver"?(a(),d("button",{key:8,class:"accept-order-btn w-100",onClick:e[5]||(e[5]=r=>{var b,m;return J(l($),(m=(b=p.order.orderDetails)==null?void 0:b[0])==null?void 0:m.orderID)})},[l(n).changeOrderStatueLoading?u("",!0):(a(),d("span",Ke,s(t.$t("order.page.actions.accept")),1)),l(n).changeOrderStatueLoading?(a(),d("span",Qe)):u("",!0)])):u("",!0),p.order.orderStatus==0&&l($)==="ServiceProvider"?(a(),d("button",{key:9,onClick:e[6]||(e[6]=r=>O.value=!0),class:"reject-order-btn w-100"},s(t.$t("order.page.actions.reject")),1)):u("",!0)])]),i(V,{class:"text-center FindDeliveryModel",closable:!1,visible:l(f),"onUpdate:visible":e[8]||(e[8]=r=>g(f)?f.value=r:null),modal:"",style:{width:"25rem"}},{default:D(()=>[e[43]||(e[43]=o("div",null,[o("img",{src:Ue,alt:""})],-1)),o("h1",We,s(t.$t("order.dialogs.find_delivery.title")),1),o("p",null,s(t.$t("order.dialogs.find_delivery.description")),1),o("div",Ye,[i(y,{class:"follow-order-btn",type:"button",label:t.$t("order.dialogs.find_delivery.follow_order"),onClick:e[7]||(e[7]=r=>f.value=!1)},null,8,["label"])])]),_:1,__:[43]},8,["visible"]),i(V,{class:"text-center salesmanRejectOrderModel",closable:!1,visible:l(O),"onUpdate:visible":e[16]||(e[16]=r=>g(O)?O.value=r:null),modal:"",style:{width:"25rem"}},{default:D(()=>[o("h1",Xe,s(t.$t("order.dialogs.reject_by_salesman.title")),1),o("p",null,s(t.$t("order.dialogs.reject_by_salesman.description")),1),o("div",Ze,[o("p",et,s(t.$t("order.dialogs.reject_by_salesman.choose_reason")),1),o("div",tt,[o("div",ot,[i(I,{modelValue:l(c),"onUpdate:modelValue":e[9]||(e[9]=r=>g(c)?c.value=r:null),inputId:"ingredient1",name:"rejectReason",value:"val1"},null,8,["modelValue"]),o("label",rt,s(t.$t("order.dialogs.reject_by_salesman.option_1")),1)]),o("div",lt,[i(I,{modelValue:l(c),"onUpdate:modelValue":e[10]||(e[10]=r=>g(c)?c.value=r:null),inputId:"ingredient2",name:"rejectReason",value:"val2"},null,8,["modelValue"]),o("label",st,s(t.$t("order.dialogs.reject_by_salesman.option_2")),1)]),o("div",nt,[i(I,{modelValue:l(c),"onUpdate:modelValue":e[11]||(e[11]=r=>g(c)?c.value=r:null),inputId:"ingredient3",name:"rejectReason",value:"val3"},null,8,["modelValue"]),o("label",at,s(t.$t("order.dialogs.reject_by_salesman.option_3")),1)]),o("div",dt,[i(I,{modelValue:l(c),"onUpdate:modelValue":e[12]||(e[12]=r=>g(c)?c.value=r:null),inputId:"ingredient4",name:"rejectReason",value:"val4"},null,8,["modelValue"]),o("label",it,s(t.$t("order.dialogs.reject_by_salesman.option_4")),1)]),l(c).includes("val4")?(a(),d("div",ut,[i(Z,{id:"rejectReasonNote",autoResize:"",modelValue:l(P),"onUpdate:modelValue":e[13]||(e[13]=r=>g(P)?P.value=r:null),rows:"4",cols:"30",class:"w-full p-2 border rounded",placeholder:t.$t("order.dialogs.reject_by_salesman.reason_placeholder")},null,8,["modelValue","placeholder"])])):u("",!0)])]),o("div",ct,[o("button",{class:"reject-order-btn w-100",onClick:e[14]||(e[14]=r=>{var b,m;return K(l($),(m=(b=p.order.orderDetails)==null?void 0:b[0])==null?void 0:m.orderID)})},[l(n).changeOrderStatueLoading?u("",!0):(a(),d("span",pt,s(t.$t("order.dialogs.reject_by_salesman.confirm_button")),1)),l(n).changeOrderStatueLoading?(a(),d("span",vt)):u("",!0)]),i(y,{class:"cancel-btn w-50",type:"button",label:t.$t("order.dialogs.reject_by_salesman.cancel_button"),onClick:e[15]||(e[15]=r=>O.value=!1)},null,8,["label"])])]),_:1},8,["visible"]),i(V,{class:"text-center rejectOrderModel",closable:!1,visible:l(v),"onUpdate:visible":e[24]||(e[24]=r=>g(v)?v.value=r:null),modal:"",style:{width:"25rem"}},{default:D(()=>[o("h1",mt,s(t.$t("order.dialogs.client_cancel.title")),1),o("p",null,s(t.$t("order.dialogs.client_cancel.description")),1),o("div",ft,[o("p",bt,s(t.$t("order.dialogs.client_cancel.choose_reason")),1),o("div",gt,[o("div",_t,[i(I,{modelValue:l(c),"onUpdate:modelValue":e[17]||(e[17]=r=>g(c)?c.value=r:null),inputId:"ingredient1",name:"rejectReason",value:"val1"},null,8,["modelValue"]),o("label",yt,s(t.$t("order.dialogs.client_cancel.option_1")),1)]),o("div",$t,[i(I,{modelValue:l(c),"onUpdate:modelValue":e[18]||(e[18]=r=>g(c)?c.value=r:null),inputId:"ingredient2",name:"rejectReason",value:"val2"},null,8,["modelValue"]),o("label",wt,s(t.$t("order.dialogs.client_cancel.option_2")),1)]),o("div",ht,[i(I,{modelValue:l(c),"onUpdate:modelValue":e[19]||(e[19]=r=>g(c)?c.value=r:null),inputId:"ingredient3",name:"rejectReason",value:"val3"},null,8,["modelValue"]),o("label",St,s(t.$t("order.dialogs.client_cancel.option_3")),1)]),o("div",kt,[i(I,{modelValue:l(c),"onUpdate:modelValue":e[20]||(e[20]=r=>g(c)?c.value=r:null),inputId:"ingredient4",name:"rejectReason",value:"val4"},null,8,["modelValue"]),o("label",Ot,s(t.$t("order.dialogs.client_cancel.option_4")),1)]),l(c).includes("val4")?(a(),d("div",Dt,[i(Z,{id:"rejectReasonNote",autoResize:"",modelValue:l(P),"onUpdate:modelValue":e[21]||(e[21]=r=>g(P)?P.value=r:null),rows:"4",cols:"30",class:"w-full p-2 border rounded",placeholder:t.$t("order.dialogs.client_cancel.reason_placeholder")},null,8,["modelValue","placeholder"])])):u("",!0)])]),o("div",Ct,[o("button",{class:"delete-btn w-100",type:"button",onClick:e[22]||(e[22]=r=>{var b,m;return z((m=(b=p.order.orderDetails)==null?void 0:b[0])==null?void 0:m.orderID)})},[l(n).changeOrderStatueLoading?u("",!0):(a(),d("span",jt,s(t.$t("order.dialogs.client_cancel.confirm_button")),1)),l(n).changeOrderStatueLoading?(a(),d("span",Vt)):u("",!0)]),i(y,{class:"cancel-btn w-50",type:"button",label:t.$t("order.dialogs.client_cancel.cancel_button"),onClick:e[23]||(e[23]=r=>v.value=!1)},null,8,["label"])])]),_:1},8,["visible"]),i(V,{class:"text-center sendOrderModel",closable:!1,visible:l(B),"onUpdate:visible":e[27]||(e[27]=r=>g(B)?B.value=r:null),modal:"",style:{width:"25rem"}},{default:D(()=>[o("h1",Ut,s(t.$t("order.dialogs.send_to_driver.title")),1),o("p",null,s(t.$t("order.dialogs.send_to_driver.description")),1),o("div",It,[i(y,{class:"accept-order-btn w-100",type:"button",label:t.$t("order.dialogs.send_to_driver.confirm_button"),onClick:e[25]||(e[25]=r=>B.value=!1)},null,8,["label"]),i(y,{class:"cancel-btn w-50",type:"button",label:t.$t("order.dialogs.send_to_driver.cancel_button"),onClick:e[26]||(e[26]=r=>B.value=!1)},null,8,["label"])])]),_:1},8,["visible"]),p.order.orderStatus==3&&l($)=="Driver"?(a(),Y(V,{key:0,class:"text-center arrivedLocation",closable:!1,visible:l(L),"onUpdate:visible":e[30]||(e[30]=r=>g(L)?L.value=r:null),modal:"",style:{width:"25rem"}},{default:D(()=>[o("h1",Rt,s(t.$t("order.dialogs.arrived.title")),1),o("p",null,s(t.$t("order.dialogs.arrived.description")),1),o("div",Pt,[o("button",{class:"accept-order-btn w-100",onClick:e[28]||(e[28]=r=>{var b,m;return Q((m=(b=p.order.orderDetails)==null?void 0:b[0])==null?void 0:m.orderID)})},[l(n).changeOrderStatueLoading?u("",!0):(a(),d("span",Lt,s(t.$t("order.dialogs.arrived.confirm_button")),1)),l(n).changeOrderStatueLoading?(a(),d("span",Nt)):u("",!0)]),i(y,{class:"cancel-btn w-50",type:"button",label:t.$t("order.dialogs.arrived.cancel_button"),onClick:e[29]||(e[29]=r=>L.value=!1)},null,8,["label"])])]),_:1},8,["visible"])):u("",!0),i(V,{class:"text-center acceptOrderModel",closable:!1,visible:l(N),"onUpdate:visible":e[33]||(e[33]=r=>g(N)?N.value=r:null),modal:"",style:{width:"25rem"}},{default:D(()=>[o("h1",Tt,s(t.$t("order.dialogs.accept_order.title")),1),o("p",null,s(t.$t("order.dialogs.accept_order.description")),1),o("div",Mt,[o("p",xt,s(t.$t("order.dialogs.accept_order.details_label")),1),o("span",null,s(t.$t("order.dialogs.accept_order.from_label"))+" "+s(t.$t("order.dialogs.accept_order.from_placeholder")),1),o("span",null,s(t.$t("order.dialogs.accept_order.to_label"))+" "+s(t.$t("order.dialogs.accept_order.to_placeholder")),1)]),o("div",Bt,[o("button",{class:"accept-order-btn w-100",onClick:e[31]||(e[31]=r=>{var b,m;return W((m=(b=p.order.orderDetails)==null?void 0:b[0])==null?void 0:m.orderID)})},[l(n).changeOrderStatueLoading?u("",!0):(a(),d("span",Gt,s(t.$t("order.dialogs.accept_order.confirm_button")),1)),l(n).changeOrderStatueLoading?(a(),d("span",Ft)):u("",!0)]),i(y,{class:"cancel-btn w-50",type:"button",label:t.$t("order.dialogs.accept_order.cancel_button"),onClick:e[32]||(e[32]=r=>N.value=!1)},null,8,["label"])])]),_:1},8,["visible"]),i(V,{class:"text-center paidModel",closable:!1,visible:l(T),"onUpdate:visible":e[36]||(e[36]=r=>g(T)?T.value=r:null),modal:"",style:{width:"25rem"}},{default:D(()=>[o("h1",qt,s(t.$t("order.dialogs.paid.title")),1),o("p",null,s(t.$t("order.dialogs.paid.description")),1),o("div",At,[o("button",{class:"accept-order-btn w-100",onClick:e[34]||(e[34]=r=>{var b,m;return k((m=(b=p.order.orderDetails)==null?void 0:b[0])==null?void 0:m.orderID)})},[l(n).changeOrderStatueLoading?u("",!0):(a(),d("span",zt,s(t.$t("order.dialogs.paid.confirm_button")),1)),l(n).changeOrderStatueLoading?(a(),d("span",Et)):u("",!0)]),i(y,{class:"cancel-btn w-50",type:"button",label:t.$t("order.dialogs.paid.cancel_button"),onClick:e[35]||(e[35]=r=>T.value=!1)},null,8,["label"])])]),_:1},8,["visible"]),i(V,{class:"text-center orderReadyModel",closable:!1,visible:l(M),"onUpdate:visible":e[39]||(e[39]=r=>g(M)?M.value=r:null),modal:"",style:{width:"25rem"}},{default:D(()=>[o("h1",Ht,s(t.$t("order.dialogs.ready.title")),1),o("p",null,s(t.$t("order.dialogs.ready.description")),1),o("div",Jt,[o("button",{class:"accept-order-btn w-100",onClick:e[37]||(e[37]=r=>{var b,m;return ae((m=(b=p.order.orderDetails)==null?void 0:b[0])==null?void 0:m.orderID)})},[l(n).changeOrderStatueLoading?u("",!0):(a(),d("span",Kt,s(t.$t("order.dialogs.ready.confirm_button")),1)),l(n).changeOrderStatueLoading?(a(),d("span",Qt)):u("",!0)]),i(y,{class:"cancel-btn w-50",type:"button",label:t.$t("order.dialogs.ready.cancel_button"),onClick:e[38]||(e[38]=r=>M.value=!1)},null,8,["label"])])]),_:1},8,["visible"]),i(V,{class:"text-center orderCompletedModel",closable:!1,visible:l(x),"onUpdate:visible":e[42]||(e[42]=r=>g(x)?x.value=r:null),modal:"",style:{width:"25rem"}},{default:D(()=>[o("h1",Wt,s(t.$t("order.dialogs.completed.title")),1),o("p",null,s(t.$t("order.dialogs.completed.description")),1),o("div",Yt,[o("button",{class:"accept-order-btn w-100",onClick:e[40]||(e[40]=r=>{var b,m;return ne((m=(b=p.order.orderDetails)==null?void 0:b[0])==null?void 0:m.orderID)})},[l(n).changeOrderStatueLoading?u("",!0):(a(),d("span",Xt,s(t.$t("order.dialogs.completed.confirm_button")),1)),l(n).changeOrderStatueLoading?(a(),d("span",Zt)):u("",!0)]),i(y,{class:"cancel-btn w-50",type:"button",label:t.$t("order.dialogs.completed.cancel_button"),onClick:e[41]||(e[41]=r=>x.value=!1)},null,8,["label"])])]),_:1},8,["visible"])],64)}}},to=X(eo,[["__scopeId","data-v-5f1dcaea"]]),oo=""+new URL("noOrder.H6xsM1Af.svg",import.meta.url).href,ro={class:"px-4 py-4 card text-center"},lo={__name:"noResultOrders",props:["mainTitle","description"],setup(p){const n=p;return(_,h)=>(a(),d("div",ro,[h[0]||(h[0]=o("img",{src:oo,alt:""},null,-1)),o("h1",null,s(n.mainTitle),1),o("p",null,s(n.description),1)]))}},so=X(lo,[["__scopeId","data-v-d1718d0a"]]),no={id:"up"},ao={class:"pr-6 pl-6 mb-4"},io={class:"title"},uo={class:"search w-full"},co={key:0,class:"flex gap-4 pr-6 pl-6 mt-3"},po={key:1,class:"w-full my-5"},vo={key:2,class:"space-y-4"},mo={key:1,class:"row gap-4"},fo={key:3},bo={key:4},go={__name:"index",setup(p){const{t:n}=re();Ve({title:n("order.page.list.title")});const _=le(),h=se(),{Orders:A}=he(h),S=w(null),R=w([]),U=w(0),C=w(null);Se(U,async f=>{var v;C.value=(v=R.value[f])==null?void 0:v.value,S.value==="Client"?C.value==1?await h.GetOrders("","",_.ProfileUser.id,"","","",S.value,!0):await h.GetOrders("",C.value,_.ProfileUser.id,"","","",S.value,!1):S.value==="ServiceProvider"?await h.GetOrders("",C.value,"","","",_.ProfileUser.IdStore,S.value):S.value==="Driver"&&await h.GetOrders("",C.value,"","",_.ProfileUser.id,"",S.value)});const H=G(()=>R.value.map((f,v)=>({label:f.title,value:v}))),$=w(!1),q=()=>{$.value=window.innerWidth<640};ke(async()=>{var v;q(),window.addEventListener("resize",q);const f=localStorage.getItem("user");f&&(_.ProfileUser=JSON.parse(f),S.value=_.ProfileUser.role,S.value==="ServiceProvider"?(R.value=[{title:n("order.page.tabs.new"),value:"0"},{title:n("order.page.tabs.current"),value:""},{title:n("order.page.tabs.cancelled"),value:"5"},{title:n("order.page.tabs.completed"),value:"6"}],await h.GetOrders("",0,"","","",_.ProfileUser.IdStore)):S.value==="Driver"?(R.value=[{title:n("order.page.tabs.new"),value:"0"},{title:n("order.page.tabs.current"),value:""},{title:n("order.page.tabs.completed"),value:"6"}],await h.GetOrders("",0,"","",_.ProfileUser.id)):S.value==="Client"&&(R.value=[{title:n("order.page.tabs.all_orders"),value:""},{title:n("order.page.tabs.current"),value:"1"},{title:n("order.page.tabs.cancelled"),value:"5"},{title:n("order.page.tabs.completed"),value:"6"}],await h.GetOrders("",null,_.ProfileUser.id))),C.value=(v=R.value[U.value])==null?void 0:v.value}),Oe(()=>{window.removeEventListener("resize",q)});const c=w(""),P=G(()=>{if(!c.value)return A.value;const f=c.value.trim().toLowerCase();return A.value.filter(v=>v.orderDetails&&v.orderDetails.some(O=>O.orderID&&O.orderID.toString().includes(f))||v.orderDetails&&v.orderDetails.some(O=>O.productName&&O.productName.toLowerCase().includes(f)))});return(f,v)=>{const O=de,B=ue,L=ce,N=pe,T=ve,M=me,x=fe,J=to,K=De,z=so,Q=ie,W=Ce;return a(),d(F,null,[o("div",no,[i(O),o("div",ao,[o("h1",io,s(f.$t("order.page.list.title")),1),o("div",uo,[i(N,{class:"w-full"},{default:D(()=>[i(B,{class:"pi pi-search"}),i(L,{class:"search",modelValue:l(c),"onUpdate:modelValue":v[0]||(v[0]=k=>g(c)?c.value=k:null),placeholder:f.$t("order.page.list.search_placeholder")},null,8,["modelValue","placeholder"])]),_:1})]),l($)?(a(),d("div",po,[i(x,{modelValue:l(U),"onUpdate:modelValue":v[2]||(v[2]=k=>g(U)?U.value=k:null),options:l(H),"option-label":"label","option-value":"value",placeholder:f.$t("order.page.list.dropdown_placeholder"),class:"w-full mt-2"},null,8,["modelValue","options","placeholder"])])):(a(),d("div",co,[i(M,{class:"w-full",activeIndex:l(U),"onUpdate:activeIndex":v[1]||(v[1]=k=>g(U)?U.value=k:null)},{default:D(()=>[(a(!0),d(F,null,E(l(R),k=>(a(),Y(T,{class:"w-full",key:k.title,header:k.title},null,8,["header"]))),128))]),_:1},8,["activeIndex"])])),l(P).length>0||l(h).loadingStore?(a(),d("div",vo,[l(h).loadingStore?u("",!0):(a(!0),d(F,{key:0},E(l(P),k=>(a(),Y(J,{key:k.orderID,order:k},null,8,["order"]))),128)),l(h).loadingStore?(a(),d("div",mo,[(a(),d(F,null,E(3,k=>i(K,{class:"col-3",type:"card"})),64))])):u("",!0)])):l(S)==="ServiceProvider"?(a(),d("div",fo,[i(z,{mainTitle:f.$t("order.page.list.no_result.service_provider.mainTitle"),description:f.$t("order.page.list.no_result.service_provider.description")},null,8,["mainTitle","description"])])):l(S)=="Driver"?(a(),d("div",bo,[i(z,{mainTitle:f.$t("order.page.list.no_result.driver.mainTitle"),description:f.$t("order.page.list.no_result.driver.description")},null,8,["mainTitle","description"])])):u("",!0)]),i(Q)]),i(W,{onClicked:v[3]||(v[3]=k=>("scrollTo"in f?f.scrollTo:l(je))("up"))})],64)}}},Zo=X(go,[["__scopeId","data-v-86b713a1"]]);export{Zo as default};
