import{L as te,s as oe,r as i,M as n,y as le}from"./CqALIQq-.js";const ie=te("dashboard",()=>{const o=le(),{errorMessage:u,success:G}=oe(),c=i(!1),p=i(!1),f=i(!1),t=i(!1),U="https://flancedelivery.runasp.net/api/Files/GetFileStreamById?id=",v=i([]),y=i([]),l=i(!1);async function P(){var r;l.value=!0;try{const e=await n.get(o.public.apiBase+"Category/GetAllCategories",null,{});e.data&&e.data.code===0||e.data.code===200?v.value=e.data.data:v.value=[]}catch(e){(r=e.response.data)!=null&&r.errors?console.log(e.response.data.errors):console.log(e)}finally{l.value=!1}}async function I(){var r;l.value=!0;try{const e=await n.get(o.public.apiBase+"StoreType/GetAllStoreTypes",null,{});e.data&&e.data.code===0||e.data.code===200?y.value=e.data.data:y.value=[]}catch(e){(r=e.response.data)!=null&&r.errors?console.log(e.response.data.errors):console.log(e)}finally{l.value=!1}}async function k(r){var e,s;l.value=!0,delete r.id;try{const a=localStorage.getItem("accessToken"),d=await n.post(o.public.apiBase+"StoreType/CreateStoreType",r,{headers:{Authorization:`Bearer ${a}`}});d.data&&(d.data.code===0||d.data.code===200)?t.value=!0:t.value=!1}catch(a){(s=(e=a.response)==null?void 0:e.data)!=null&&s.errors?console.log(a.response.data.errors):console.log(a)}finally{l.value=!1}}async function $(r){var e,s;l.value=!0;try{(await n.put(o.public.apiBase+"StoreType/UpdateStoreType",r)).data.data?t.value=!0:t.value=!1}catch(a){(s=(e=a.response)==null?void 0:e.data)!=null&&s.errors?console.log(a.response.data.errors):console.log(a)}finally{l.value=!1}}async function z(r){var e,s;c.value=!0;try{(await n.delete(o.public.apiBase+"StoreType/DeleteStoreType",{params:{id:r}})).data.data?t.value=!0:t.value=!1}catch(a){(s=(e=a.response)==null?void 0:e.data)!=null&&s.errors?console.log(a.response.data.errors):console.log(a)}finally{c.value=!1}}const g=i([]);async function x(){var r,e;l.value=!0;try{const s=await n.get(o.public.apiBase+"Category/GetCategoriesPaged",{params:{page:1,pageSize:7}});s.data&&(s.data.code===0||s.data.code===200)?g.value=s.data.data.entities:g.value=[]}catch(s){(e=(r=s.response)==null?void 0:r.data)!=null&&e.errors?console.log(s.response.data.errors):console.log(s)}finally{l.value=!1}}async function F(r){var e,s;l.value=!0,delete r.id;try{const a=localStorage.getItem("accessToken"),d=await n.post(o.public.apiBase+"Category/CreateCategory",r,{headers:{Authorization:`Bearer ${a}`}});d.data&&(d.data.code===0||d.data.code===200)?t.value=!0:t.value=!1}catch(a){(s=(e=a.response)==null?void 0:e.data)!=null&&s.errors?console.log(a.response.data.errors):console.log(a)}finally{l.value=!1}}async function M(r){var e,s;l.value=!0;try{(await n.put(o.public.apiBase+"Category/UpdateCategory",r)).data.data?t.value=!0:t.value=!1}catch(a){(s=(e=a.response)==null?void 0:e.data)!=null&&s.errors?console.log(a.response.data.errors):console.log(a)}finally{l.value=!1}}async function O(r){var e,s;c.value=!0;try{(await n.delete(o.public.apiBase+"Category/DeleteCategory",{params:{id:r}})).data.data?t.value=!0:t.value=!1}catch(a){(s=(e=a.response)==null?void 0:e.data)!=null&&s.errors?console.log(a.response.data.errors):console.log(a)}finally{c.value=!1}}const S=i([]);async function E(){var r,e;c.value=!0;try{const s=await n.get(o.public.apiBase+"User/GetAllUsers",null,{});s.data&&s.data.code===0||s.data.code===200?S.value=s.data.data:S.value=[]}catch(s){(e=(r=s.response)==null?void 0:r.data)!=null&&e.errors?(u("مشكلة في الاتصال"),console.log(s.response.data.errors)):(u("مشكلة في الاتصال"),console.log(s))}finally{c.value=!1}}async function L(r){var e,s;c.value=!0;try{const a=await n.delete(o.public.apiBase+`User/DeleteUser?UserId=${r}`);a.data&&(a.data.code===0||a.data.code===200)?(f.value=!0,G("تم حذف المستخدم بنجاح")):f.value=!1}catch(a){(s=(e=a.response)==null?void 0:e.data)!=null&&s.errors?(u("مشكلة في الاتصال"),console.log(a.response.data.errors)):(u("مشكلة في الاتصال"),console.log(a))}finally{c.value=!1}}const A=i([]);async function R(){var r,e;p.value=!0;try{const s=await n.get(o.public.apiBase+"AdminDashboard/GetOrderStatistics",null,{});s.data&&s.data.code===0||s.data.code===200?A.value=s.data.data:A.value=[]}catch(s){(e=(r=s.response)==null?void 0:r.data)!=null&&e.errors?console.log(s.response.data.errors):(u("مشكلة في الاتصال"),console.log(s))}finally{p.value=!1}}const h=i(null);async function q(){var r,e;p.value=!0;try{const s=await n.get(o.public.apiBase+"AdminDashboard/GetStoreStatistics",null,{});s.data&&s.data.code===0||s.data.code===200?h.value=s.data.data:h.value=[]}catch(s){(e=(r=s.response)==null?void 0:r.data)!=null&&e.errors?console.log(s.response.data.errors):(u("مشكلة في الاتصال"),console.log(s))}finally{p.value=!1}}const B=i([]);async function H(){var r;c.value=!0;try{const e=await n.get(o.public.apiBase+"Store/GetAllStore",null,{});e.data&&e.data.code===0||e.data.code===200?B.value=e.data.data:B.value=[]}catch(e){(r=e.response.data)!=null&&r.errors?console.log(e.response.data.errors):console.log(e)}finally{c.value=!1}}async function J(r){var e,s;c.value=!0;try{(await n.put(o.public.apiBase+"Store/UpdateStore",r)).data.data?t.value=!0:t.value=!1}catch(a){(s=(e=a.response)==null?void 0:e.data)!=null&&s.errors?console.log(a.response.data.errors):console.log(a)}finally{c.value=!1}}async function K(r,e){var s,a;c.value=!0;try{(await n.put(o.public.apiBase+"Store/UpdateStoreStatus",null,{params:{StoreId:r,StoreStatus:e}})).data.data?t.value=!0:t.value=!1}catch(d){(a=(s=d.response)==null?void 0:s.data)!=null&&a.errors?console.log(d.response.data.errors):console.log(d)}finally{c.value=!1}}async function N(r){var e,s;c.value=!0;try{(await n.delete(o.public.apiBase+"Store/DeleteStore",{params:{id:r}})).data.data?t.value=!0:t.value=!1}catch(a){(s=(e=a.response)==null?void 0:e.data)!=null&&s.errors?console.log(a.response.data.errors):console.log(a)}finally{c.value=!1}}const C=i([]);async function Q(){var r;c.value=!0;try{const e=await n.get(o.public.apiBase+"DeliveryPriceAndTime/GetAllDeliveryPriceAndTimes",null,{});e.data&&e.data.code===0||e.data.code===200?C.value=e.data.data:C.value=[]}catch(e){(r=e.response.data)!=null&&r.errors?console.log(e.response.data.errors):console.log(e)}finally{c.value=!1}}const m=i([]);async function V(){var r;try{const e=await n.get(o.public.apiBase+"Area/GetAllArea",null,{});e.data&&e.data.code===0||e.data.code===200?m.value=e.data.data:m.value=[]}catch(e){(r=e.response.data)!=null&&r.errors?console.log(e.response.data.errors):console.log(e)}}async function W(r){var e,s;l.value=!0,delete r.id,delete r.fromArea,delete r.toArea;try{const a=await n.post(o.public.apiBase+"DeliveryPriceAndTime/CreateDeliveryPriceAndTime",r);return a.data&&(a.data.code===0||a.data.code===200)?(t.value=!0,a.data.data):(t.value=!1,null)}catch(a){if((s=(e=a.response)==null?void 0:e.data)!=null&&s.errors)return console.log(a.response.data.errors),null;console.log(a)}finally{l.value=!1}}async function X(r){var e,s;l.value=!0;try{const a=await n.put(o.public.apiBase+"DeliveryPriceAndTime/UpdateDeliveryPriceAndTime",r);a.data.data&&(a.data.code===0||a.data.code===200)?t.value=!0:t.value=!1}catch(a){(s=(e=a.response)==null?void 0:e.data)!=null&&s.errors?console.log(a.response.data.errors):console.log(a)}finally{l.value=!1}}async function Y(r){var e,s;c.value=!0;try{(await n.delete(o.public.apiBase+"DeliveryPriceAndTime/DeleteDeliveryPriceAndTime",{params:{Id:r}})).data.data?t.value=!0:t.value=!1}catch(a){(s=(e=a.response)==null?void 0:e.data)!=null&&s.errors?console.log(a.response.data.errors):console.log(a)}finally{c.value=!1}}async function Z(r){var e,s;l.value=!0,delete r.id,console.log(r);try{const a=await n.post(o.public.apiBase+"Area/CreateArea",r);return a.data&&(a.data.code===0||a.data.code===200)?(t.value=!0,a.data.data):(t.value=!1,null)}catch(a){if((s=(e=a.response)==null?void 0:e.data)!=null&&s.errors)return console.log(a.response.data.errors),null;console.log(a)}finally{l.value=!1}}async function _(r){var e,s;l.value=!0;try{const a=await n.put(o.public.apiBase+"Area/UpdateArea",r);a.data.data&&(a.data.code===0||a.data.code===200)?t.value=!0:t.value=!1}catch(a){(s=(e=a.response)==null?void 0:e.data)!=null&&s.errors?console.log(a.response.data.errors):console.log(a)}finally{l.value=!1}}async function j(r){var e,s;c.value=!0;try{(await n.delete(o.public.apiBase+"Area/DeleteArea",{params:{Id:r}})).data.data?t.value=!0:t.value=!1}catch(a){(s=(e=a.response)==null?void 0:e.data)!=null&&s.errors?console.log(a.response.data.errors):console.log(a)}finally{c.value=!1}}const w=i([{}]);async function ee(){var r;try{const e=await n.get(o.public.apiBase+"AppConfiguration",null,{});e.data&&e.data.code===0||e.data.code===200?w.value[0]=e.data.data:w.value=[{}]}catch(e){(r=e.response.data)!=null&&r.errors?console.log(e.response.data.errors):console.log(e)}}async function ae(r){var e,s;l.value=!0;try{const a=await n.put(o.public.apiBase+"AppConfiguration",r);a.data.data&&(a.data.code===0||a.data.code===200)?t.value=!0:t.value=!1}catch(a){(s=(e=a.response)==null?void 0:e.data)!=null&&s.errors?console.log(a.response.data.errors):console.log(a)}finally{l.value=!1}}async function se(r){var e,s;l.value=!0;try{const a=localStorage.getItem("accessToken"),d={...r},D=d.id??null;D&&delete d.id;const ne=o.public.apiBase+"Slider"+(D?`/${D}`:""),b=await n.put(o.public.apiBase+"Slider",r,{headers:{Authorization:`Bearer ${a}`}});b.data&&(b.data.code===0||b.data.code===200)?t.value=!0:t.value=!1}catch(a){(s=(e=a.response)==null?void 0:e.data)!=null&&s.errors?console.log(a.response.data.errors):console.log(a)}finally{l.value=!1}}const T=i([]);async function re(){var r;l.value=!0;try{const e=await n.get(o.public.apiBase+"Slider",null,{});e.data&&e.data.code===0||e.data.code===200?T.value=e.data.data:T.value=[]}catch(e){(r=e.response.data)!=null&&r.errors?console.log(e.response.data.errors):console.log(e)}finally{l.value=!1}}return{isSuccess:f,allUsers:S,loadingStore:c,loading:p,orderStatistics:A,storeStatistics:h,urlImage:U,allCategories:v,Categories:g,loadingCategories:l,sucsses:t,allStore:B,allDelivery:C,allArea:m,configuration:w,allStoreTypes:y,allSlides:T,GetAllUsers:E,GetAllStore:H,DeleteUser:L,GetOrderStatistics:R,GetStoreStatistics:q,GetAllCategories:P,GetAllStoreTypes:I,AddStorType:k,updateCategory:$,DeleteStoreType:z,GetPagesCategories:x,PostCreateCategories:F,PutUpdateCategory:M,DeleteCategory:O,PutCreateStore:J,UpdateStoreStatus:K,DeleteStore:N,GetAllDeliveryPriceAndTimes:Q,GetAllArea:V,CreateDeliveryPriceAndTime:W,UpdateDeliveryPriceAndTime:X,DeleteDeliveryPriceAndTime:Y,CreateArea:Z,UpdateArea:_,DeleteArea:j,GetAppConfiguration:ee,UpdateAppConfiguration:ae,updateImageSlider:se,GetAllSlides:re}});export{ie as u};
