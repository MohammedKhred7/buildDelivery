import{L as N,s as Q,r as i,M as n,y as V}from"./Bb97aE5h.js";const X=N("dashboard",()=>{const o=V(),{errorMessage:u,success:D}=Q(),l=i(!1),p=i(!1),f=i(!1),t=i(!1),B="https://flancedelivery.runasp.net/api/Files/GetFileStreamById?id=",v=i([]),c=i(!1);async function w(){var r;c.value=!0;try{const e=await n.get(o.public.apiBase+"Category/GetAllCategories",null,{});e.data&&e.data.code===0||e.data.code===200?v.value=e.data.data:v.value=[]}catch(e){(r=e.response.data)!=null&&r.errors?console.log(e.response.data.errors):console.log(e)}finally{c.value=!1}}const y=i([]);async function b(){var r,e;c.value=!0;try{const s=await n.get(o.public.apiBase+"Category/GetCategoriesPaged",{params:{page:1,pageSize:7}});s.data&&(s.data.code===0||s.data.code===200)?y.value=s.data.data.entities:y.value=[]}catch(s){(e=(r=s.response)==null?void 0:r.data)!=null&&e.errors?console.log(s.response.data.errors):console.log(s)}finally{c.value=!1}}async function G(r){var e,s;c.value=!0,delete r.id;try{const a=localStorage.getItem("accessToken"),d=await n.post(o.public.apiBase+"Category/CreateCategory",r,{headers:{Authorization:`Bearer ${a}`}});d.data&&(d.data.code===0||d.data.code===200)?t.value=!0:t.value=!1}catch(a){(s=(e=a.response)==null?void 0:e.data)!=null&&s.errors?console.log(a.response.data.errors):console.log(a)}finally{c.value=!1}}async function P(r){var e,s;c.value=!0;try{(await n.put(o.public.apiBase+"Category/UpdateCategory",r)).data.data?t.value=!0:t.value=!1}catch(a){(s=(e=a.response)==null?void 0:e.data)!=null&&s.errors?console.log(a.response.data.errors):console.log(a)}finally{c.value=!1}}async function U(r){var e,s;l.value=!0;try{(await n.delete(o.public.apiBase+"Category/DeleteCategory",{params:{id:r}})).data.data?t.value=!0:t.value=!1}catch(a){(s=(e=a.response)==null?void 0:e.data)!=null&&s.errors?console.log(a.response.data.errors):console.log(a)}finally{l.value=!1}}const g=i([]);async function T(){var r,e;l.value=!0;try{const s=await n.get(o.public.apiBase+"User/GetAllUsers",null,{});s.data&&s.data.code===0||s.data.code===200?g.value=s.data.data:g.value=[]}catch(s){(e=(r=s.response)==null?void 0:r.data)!=null&&e.errors?(u("مشكلة في الاتصال"),console.log(s.response.data.errors)):(u("مشكلة في الاتصال"),console.log(s))}finally{l.value=!1}}async function I(r){var e,s;l.value=!0;try{const a=await n.delete(o.public.apiBase+`User/DeleteUser?UserId=${r}`);a.data&&(a.data.code===0||a.data.code===200)?(f.value=!0,D("تم حذف المستخدم بنجاح")):f.value=!1}catch(a){(s=(e=a.response)==null?void 0:e.data)!=null&&s.errors?(u("مشكلة في الاتصال"),console.log(a.response.data.errors)):(u("مشكلة في الاتصال"),console.log(a))}finally{l.value=!1}}const A=i([]);async function k(){var r,e;p.value=!0;try{const s=await n.get(o.public.apiBase+"AdminDashboard/GetOrderStatistics",null,{});s.data&&s.data.code===0||s.data.code===200?A.value=s.data.data:A.value=[]}catch(s){(e=(r=s.response)==null?void 0:r.data)!=null&&e.errors?console.log(s.response.data.errors):(u("مشكلة في الاتصال"),console.log(s))}finally{p.value=!1}}const S=i(null);async function x(){var r,e;p.value=!0;try{const s=await n.get(o.public.apiBase+"AdminDashboard/GetStoreStatistics",null,{});s.data&&s.data.code===0||s.data.code===200?S.value=s.data.data:S.value=[]}catch(s){(e=(r=s.response)==null?void 0:r.data)!=null&&e.errors?console.log(s.response.data.errors):(u("مشكلة في الاتصال"),console.log(s))}finally{p.value=!1}}const h=i([]);async function z(){var r;l.value=!0;try{const e=await n.get(o.public.apiBase+"Store/GetAllStore",null,{});e.data&&e.data.code===0||e.data.code===200?h.value=e.data.data:h.value=[]}catch(e){(r=e.response.data)!=null&&r.errors?console.log(e.response.data.errors):console.log(e)}finally{l.value=!1}}async function F(r){var e,s;l.value=!0;try{(await n.put(o.public.apiBase+"Store/UpdateStore",r)).data.data?t.value=!0:t.value=!1}catch(a){(s=(e=a.response)==null?void 0:e.data)!=null&&s.errors?console.log(a.response.data.errors):console.log(a)}finally{l.value=!1}}async function M(r,e){var s,a;l.value=!0;try{(await n.put(o.public.apiBase+"Store/UpdateStoreStatus",null,{params:{StoreId:r,StoreStatus:e}})).data.data?t.value=!0:t.value=!1}catch(d){(a=(s=d.response)==null?void 0:s.data)!=null&&a.errors?console.log(d.response.data.errors):console.log(d)}finally{l.value=!1}}async function O(r){var e,s;l.value=!0;try{(await n.delete(o.public.apiBase+"Store/DeleteStore",{params:{id:r}})).data.data?t.value=!0:t.value=!1}catch(a){(s=(e=a.response)==null?void 0:e.data)!=null&&s.errors?console.log(a.response.data.errors):console.log(a)}finally{l.value=!1}}const m=i([]);async function $(){var r;l.value=!0;try{const e=await n.get(o.public.apiBase+"DeliveryPriceAndTime/GetAllDeliveryPriceAndTimes",null,{});e.data&&e.data.code===0||e.data.code===200?m.value=e.data.data:m.value=[]}catch(e){(r=e.response.data)!=null&&r.errors?console.log(e.response.data.errors):console.log(e)}finally{l.value=!1}}const C=i([]);async function E(){var r;try{const e=await n.get(o.public.apiBase+"Area/GetAllArea",null,{});e.data&&e.data.code===0||e.data.code===200?C.value=e.data.data:C.value=[]}catch(e){(r=e.response.data)!=null&&r.errors?console.log(e.response.data.errors):console.log(e)}}async function L(r){var e,s;c.value=!0,delete r.id,delete r.fromArea,delete r.toArea;try{const a=await n.post(o.public.apiBase+"DeliveryPriceAndTime/CreateDeliveryPriceAndTime",r);return a.data&&(a.data.code===0||a.data.code===200)?(t.value=!0,a.data.data):(t.value=!1,null)}catch(a){if((s=(e=a.response)==null?void 0:e.data)!=null&&s.errors)return console.log(a.response.data.errors),null;console.log(a)}finally{c.value=!1}}async function R(r){var e,s;c.value=!0;try{const a=await n.put(o.public.apiBase+"DeliveryPriceAndTime/UpdateDeliveryPriceAndTime",r);a.data.data&&(a.data.code===0||a.data.code===200)?t.value=!0:t.value=!1}catch(a){(s=(e=a.response)==null?void 0:e.data)!=null&&s.errors?console.log(a.response.data.errors):console.log(a)}finally{c.value=!1}}async function q(r){var e,s;l.value=!0;try{(await n.delete(o.public.apiBase+"DeliveryPriceAndTime/DeleteDeliveryPriceAndTime",{params:{Id:r}})).data.data?t.value=!0:t.value=!1}catch(a){(s=(e=a.response)==null?void 0:e.data)!=null&&s.errors?console.log(a.response.data.errors):console.log(a)}finally{l.value=!1}}async function H(r){var e,s;c.value=!0,delete r.id,console.log(r);try{const a=await n.post(o.public.apiBase+"Area/CreateArea",r);return a.data&&(a.data.code===0||a.data.code===200)?(t.value=!0,a.data.data):(t.value=!1,null)}catch(a){if((s=(e=a.response)==null?void 0:e.data)!=null&&s.errors)return console.log(a.response.data.errors),null;console.log(a)}finally{c.value=!1}}async function J(r){var e,s;c.value=!0;try{const a=await n.put(o.public.apiBase+"Area/UpdateArea",r);a.data.data&&(a.data.code===0||a.data.code===200)?t.value=!0:t.value=!1}catch(a){(s=(e=a.response)==null?void 0:e.data)!=null&&s.errors?console.log(a.response.data.errors):console.log(a)}finally{c.value=!1}}async function K(r){var e,s;l.value=!0;try{(await n.delete(o.public.apiBase+"Area/DeleteArea",{params:{Id:r}})).data.data?t.value=!0:t.value=!1}catch(a){(s=(e=a.response)==null?void 0:e.data)!=null&&s.errors?console.log(a.response.data.errors):console.log(a)}finally{l.value=!1}}return{isSuccess:f,allUsers:g,loadingStore:l,loading:p,orderStatistics:A,storeStatistics:S,urlImage:B,allCategories:v,Categories:y,loadingCategories:c,sucsses:t,allStore:h,allDelivery:m,allArea:C,GetAllUsers:T,GetAllStore:z,DeleteUser:I,GetOrderStatistics:k,GetStoreStatistics:x,GetAllCategories:w,GetPagesCategories:b,PostCreateCategories:G,PutUpdateCategory:P,DeleteCategory:U,PutCreateStore:F,UpdateStoreStatus:M,DeleteStore:O,GetAllDeliveryPriceAndTimes:$,GetAllArea:E,CreateDeliveryPriceAndTime:L,UpdateDeliveryPriceAndTime:R,DeleteDeliveryPriceAndTime:q,CreateArea:H,UpdateArea:J,DeleteArea:K}});export{X as u};
