import{_ as M,a as Q}from"./BYL1yRL7.js";import{_ as U}from"./NCH_zfc0.js";import{_ as X}from"./xfdku33k.js";import{c as G}from"./CFetfJAT.js";import K from"./KpnLSvH2.js";import W from"./CjvyA2IO.js";import{_ as Y,g as Z,r as f,s as tt,X as et,l as st,c as d,o as c,a as t,d as x,t as l,u as o,i as N,b as a,n as P,w as k,A as ot,T as nt,F as A,j as lt,h as it}from"./BKzAI-Wm.js";import{u as rt}from"./C6x87e9G.js";import{u as at}from"./C4EaSLWD.js";import"./DENnix_4.js";import"./CAGqlqSm.js";import"./C0_8Y8II.js";import"./BaBzIy89.js";import"./q7OVjmMF.js";import"./DP3FlFFF.js";import"./CilANJHZ.js";import"./CAjwrcL4.js";import"./BpPbVGvO.js";import"./qUGvnqAa.js";import"./BOlN8jLb.js";import"./C6mr5iLD.js";import"./-PhekKT4.js";import"./DNuz2RVM.js";import"./Cwh2tmgo.js";import"./DOu7jH0Y.js";import"./D0VkXlIJ.js";import"./CxStLgni.js";const ct={class:"pr-6 pl-6 mt-4 align-items-center flex gap-2"},dt={class:"font-bold"},ut={class:"pr-6 pl-6 mt-4 Product-Details flex justify-content-center gap-8"},pt={class:"bg-white rounded-xl shadow-md p-4 w-full"},mt={class:"text-4xl font-bold mb-2 text-gray-800"},_t={class:"flex align-items-center justify-content-between mb-2"},ft={class:"text-end"},vt={class:"text-orange-500 font-semibold"},gt={class:"line-through text-gray-500 text-sm mr-2"},bt={class:"flex align-items-center mt-2"},xt={key:0,class:"badge dicount-diteles"},yt={class:"text-xl font-bold mb-2 text-gray-800"},ht={class:"text-gray-700 leading-relaxed mb-4 text-sm"},kt={class:"flex gap-2"},It={key:0,class:"quantity-box w-full"},Ct={class:"count"},Dt={class:"align-items-center flex"},Ft={class:"mt-4"},Bt={class:"flex align-items-center gap-4 w-full justify-center"},wt={class:"flex align-items-center max-w-md border rounded-xl overflow-hidden shadow-md"},St=["src"],$t={key:0,class:"flex flex-column gap-2"},Vt=["onClick"],jt=["src"],Nt={class:"mb-2 pr-6 pl-6"},Pt={class:"text-2xl font-bold mb-4 text-gray-800"},At={class:"flex justify-content-center gap-2"},Rt={__name:"ProductDetiles",setup(R){const s=rt(),y=Z(),m=f(null),v=ot(),r=tt(),u=f(null);function T(n){var e;s.productForDetilesById={...n},u.value=(e=s.productForDetilesById)==null?void 0:e.imagesIds}et(()=>{var e;s.productForDetilesById||y.push("/restaurant-detiles");const n=localStorage.getItem("ItemStore");n?(m.value=JSON.parse(n),u.value=(e=s.productForDetilesById)==null?void 0:e.imagesIds):y.push("/restaurant-detiles")}),f(4);const h=f(!1),q=()=>{h.value=!h.value};function L(){r.clearCart(),r.resetStoreConflict()}const _=st(()=>{const n=r.items.find(e=>{var p;return e.id===((p=s.productForDetilesById)==null?void 0:p.id)});return n?n.quantity:0}),I=()=>{_.value++,r.addToCart(s.productForDetilesById)},H=()=>{var n;_.value>0&&(_.value--,r.decreaseQuantity((n=s.productForDetilesById)==null?void 0:n.id))},g=f(0);return(n,e)=>{var C,D,F,B,w,S,$,V,j;const p=U,O=X,z=G,E=K,J=W;return c(),d(A,null,[t("nav",ct,[t("span",null,l(n.$t("stores")),1),e[2]||(e[2]=x()),e[3]||(e[3]=t("span",null,[t("i",{class:"pi pi-angle-left"})],-1)),t("span",null,l((C=m.value)==null?void 0:C.name),1),e[4]||(e[4]=t("span",null,[t("i",{class:"pi pi-angle-left"})],-1)),t("span",dt,l((D=o(s).productForDetilesById)==null?void 0:D.title),1)]),t("div",ut,[t("div",pt,[t("h2",mt,l((F=o(s).productForDetilesById)==null?void 0:F.title),1),t("div",_t,[t("div",ft,[t("p",vt,[x(l((B=o(s).productForDetilesById)==null?void 0:B.priceAfterDiscount)+" ر.س ",1),t("span",gt,l((w=o(s).productForDetilesById)!=null&&w.discountValue?o(s).productForDetilesById.price+" ر.س":""),1)])]),t("div",bt,[(S=o(s).productForDetilesById)!=null&&S.discountValue?(c(),d("div",xt,[e[5]||(e[5]=t("i",{class:"pi pi-bolt"},null,-1)),x(" "+l("خصم : "+(($=o(s).productForDetilesById)==null?void 0:$.discountValue)+" % "),1)])):N("",!0)])]),t("h2",yt,l(n.$t("resturant_details.product_description")),1),t("p",ht,l((V=o(s).productForDetilesById)==null?void 0:V.description),1),t("div",kt,[o(_)>0?(c(),d("div",It,[t("button",{onClick:H,class:"counter-btn"},"-"),t("span",Ct,l(o(_)),1),t("button",{onClick:I,class:"counter-btn"},"+")])):(c(),d("button",{key:1,class:"add-product-btn w-full bg-orange-400 hover:bg-orange-500",onClick:I},[x(l(n.$t("resturant_details.add_cart")),1),e[6]||(e[6]=t("i",{class:"pi pi-shopping-cart mr-2"},null,-1))])),t("div",Dt,[a(p,{class:P(h.value?"pi pi-heart-fill Favorite":"pi pi-heart Favorite"),onClick:q},null,8,["class"])])]),t("div",Ft,[a(O,{restaurant:m.value},null,8,["restaurant"])])]),t("div",Bt,[t("div",wt,[a(nt,{name:"fade",mode:"out-in"},{default:k(()=>{var i;return[t("img",{src:(i=u.value)!=null&&i[g.value]?o(v).public.urlImage+u.value[g.value]:"",class:"img-center"},null,8,St)]}),_:1})]),((j=u.value)==null?void 0:j.length)>1?(c(),d("div",$t,[(c(!0),d(A,null,lt(u.value,(i,b)=>(c(),d("div",{key:b,onClick:Lt=>g.value=b,class:P(["product-card",g.value===b?"border-orange-500":"border-gray-200"])},[t("img",{src:o(v).public.urlImage+i,class:"object-contain img-product"},null,8,jt)],10,Vt))),128))])):N("",!0)])]),t("div",Nt,[t("h2",Pt,l(n.$t("resturant_details.products_may_like")),1),t("div",null,[a(E,{class:"carousel-products",value:o(s).detilesStore.products,numVisible:4,numScroll:1,responsiveOptions:[{breakpoint:"1024px",numVisible:2,numScroll:1},{breakpoint:"768px",numVisible:1,numScroll:1}]},{item:k(({data:i})=>[t("div",null,[(c(),it(z,{key:i.id,onLinkClick:b=>T(i),product:i},null,8,["onLinkClick","product"]))])]),_:1},8,["value"])]),a(J,{visible:o(r).storeConflict,"onUpdate:visible":e[1]||(e[1]=i=>o(r).storeConflict=i),closable:!1,modal:"",style:{width:"25rem",textAlign:"center",borderRadius:"24px"}},{default:k(()=>[e[7]||(e[7]=t("h1",{class:"font-bold delete-title text-enter text-900"},"لا يمكن إضافة منتج لأكثر من متجر",-1)),e[8]||(e[8]=t("p",{class:"p-text-secondary"},"هل تريد حذف السابق من السلة ؟",-1)),t("div",At,[a(p,{class:"delete-btn w-50",type:"button",label:"نعم",severity:"secondary",onClick:L}),a(p,{class:"cancel-btn w-50",type:"button",label:"إلغاء",onClick:e[0]||(e[0]=i=>o(r).resetStoreConflict())})])]),_:1,__:[7,8]},8,["visible"])])],64)}}},Tt=Y(Rt,[["__scopeId","data-v-ba577d2c"]]),qt={class:"flex flex-column gap-6"},me={__name:"index",setup(R){return at({title:"تفاصيل المنتج"}),(s,y)=>{const m=M,v=Tt,r=Q;return c(),d("div",null,[a(m),t("div",qt,[a(v),a(r)])])}}};export{me as default};
