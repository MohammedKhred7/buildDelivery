import{_ as J,a as M}from"./4bpxv-ZI.js";import{_ as Q}from"./Cdd-DGtW.js";import{_ as G}from"./DEl4fAlk.js";import{c as K}from"./CyZYEraI.js";import W from"./Pt3gyDhr.js";import X from"./DyQk_v9T.js";import{_ as Y,f as Z,r as f,l as tt,U as et,m as ot,c as d,o as a,a as t,d as b,t as c,u as s,h as j,b as r,n as P,w as I,y as st,T as nt,F as R,i as lt,g as it}from"./3DgHTrxd.js";import{u as rt}from"./CLqNbreF.js";import{u as at}from"./ChvpdQ6H.js";import"./Y2aSG3Ri.js";import"./FMRl4gtA.js";import"./C22dDGv8.js";import"./Xy6i3PbL.js";import"./Csik62mt.js";import"./BARx7_Hz.js";import"./BtLHsEl4.js";import"./CoxauZdD.js";import"./D7hTCHtm.js";import"./BHjwTfOm.js";import"./9M8dpHiG.js";import"./BF0L37l9.js";import"./BiBeFhvB.js";import"./DNuz2RVM.js";import"./CGcx-d3k.js";import"./XhQwduon.js";import"./B9S46ozp.js";import"./3vbTDaX5.js";const ct={class:"pr-6 pl-6 mt-4 align-items-center flex gap-2"},dt={class:"font-bold"},ut={class:"pr-6 pl-6 mt-4 Product-Details flex justify-content-center gap-8"},pt={class:"bg-white rounded-xl shadow-md p-4 w-full"},mt={class:"text-4xl font-bold mb-2 text-gray-800"},_t={class:"flex align-items-center justify-content-between mb-2"},ft={class:"text-end"},vt={class:"text-orange-500 font-semibold"},gt={class:"line-through text-gray-500 text-sm mr-2"},xt={class:"flex align-items-center mt-2"},bt={key:0,class:"badge dicount-diteles"},yt={class:"text-gray-700 leading-relaxed mb-4 text-sm"},ht={class:"flex gap-2"},It={key:0,class:"quantity-box w-full"},kt={class:"count"},Ct={class:"align-items-center flex"},Dt={class:"mt-4"},Ft={class:"flex align-items-center gap-4 w-full justify-center"},Bt={class:"flex align-items-center max-w-md border rounded-xl overflow-hidden shadow-md"},wt=["src"],St={key:0,class:"flex flex-column gap-2"},Vt=["onClick"],$t=["src"],Nt={class:"mb-2 pr-6 pl-6"},jt={class:"flex justify-content-center gap-2"},Pt={__name:"ProductDetiles",setup(T){const o=rt(),y=Z(),m=f(null),v=st(),i=tt(),u=f(null);function q(n){var e;o.productForDetilesById={...n},u.value=(e=o.productForDetilesById)==null?void 0:e.imagesIds}et(()=>{var e;o.productForDetilesById||y.push("/restaurant-detiles");const n=localStorage.getItem("ItemStore");n?(m.value=JSON.parse(n),u.value=(e=o.productForDetilesById)==null?void 0:e.imagesIds):y.push("/restaurant-detiles")}),f(4);const h=f(!1),A=()=>{h.value=!h.value};function L(){i.clearCart(),i.resetStoreConflict()}const _=ot(()=>{const n=i.items.find(e=>{var p;return e.id===((p=o.productForDetilesById)==null?void 0:p.id)});return n?n.quantity:0}),k=()=>{_.value++,i.addToCart(o.productForDetilesById)},H=()=>{var n;_.value>0&&(_.value--,i.decreaseQuantity((n=o.productForDetilesById)==null?void 0:n.id))},g=f(0);return(n,e)=>{var C,D,F,B,w,S,V,$,N;const p=Q,O=G,U=K,z=W,E=X;return a(),d(R,null,[t("nav",ct,[e[2]||(e[2]=t("span",null,"المتاجر",-1)),e[3]||(e[3]=b()),e[4]||(e[4]=t("span",null,[t("i",{class:"pi pi-angle-left"})],-1)),t("span",null,c((C=m.value)==null?void 0:C.name),1),e[5]||(e[5]=t("span",null,[t("i",{class:"pi pi-angle-left"})],-1)),t("span",dt,c((D=s(o).productForDetilesById)==null?void 0:D.title),1)]),t("div",ut,[t("div",pt,[t("h2",mt,c((F=s(o).productForDetilesById)==null?void 0:F.title),1),t("div",_t,[t("div",ft,[t("p",vt,[b(c((B=s(o).productForDetilesById)==null?void 0:B.priceAfterDiscount)+" ر.س ",1),t("span",gt,c((w=s(o).productForDetilesById)!=null&&w.discountValue?s(o).productForDetilesById.price+" ر.س":""),1)])]),t("div",xt,[(S=s(o).productForDetilesById)!=null&&S.discountValue?(a(),d("div",bt,[e[6]||(e[6]=t("i",{class:"pi pi-bolt"},null,-1)),b(" "+c("خصم : "+((V=s(o).productForDetilesById)==null?void 0:V.discountValue)+" % "),1)])):j("",!0)])]),e[8]||(e[8]=t("h2",{class:"text-xl font-bold mb-2 text-gray-800"}," وصف المنتج ",-1)),t("p",yt,c(($=s(o).productForDetilesById)==null?void 0:$.description),1),t("div",ht,[s(_)>0?(a(),d("div",It,[t("button",{onClick:H,class:"counter-btn"},"-"),t("span",kt,c(s(_)),1),t("button",{onClick:k,class:"counter-btn"},"+")])):(a(),d("button",{key:1,class:"add-product-btn w-full bg-orange-400 hover:bg-orange-500",onClick:k},e[7]||(e[7]=[b(" إضافة إلى السلة"),t("i",{class:"pi pi-shopping-cart mr-2"},null,-1)]))),t("div",Ct,[r(p,{class:P(h.value?"pi pi-heart-fill Favorite":"pi pi-heart Favorite"),onClick:A},null,8,["class"])])]),t("div",Dt,[r(O,{restaurant:m.value},null,8,["restaurant"])])]),t("div",Ft,[t("div",Bt,[r(nt,{name:"fade",mode:"out-in"},{default:I(()=>{var l;return[t("img",{src:(l=u.value)!=null&&l[g.value]?s(v).public.urlImage+u.value[g.value]:"",class:"img-center"},null,8,wt)]}),_:1})]),((N=u.value)==null?void 0:N.length)>1?(a(),d("div",St,[(a(!0),d(R,null,lt(u.value,(l,x)=>(a(),d("div",{key:x,onClick:qt=>g.value=x,class:P(["product-card",g.value===x?"border-orange-500":"border-gray-200"])},[t("img",{src:s(v).public.urlImage+l,class:"object-contain img-product"},null,8,$t)],10,Vt))),128))])):j("",!0)])]),t("div",Nt,[e[11]||(e[11]=t("h2",{class:"text-2xl font-bold mb-4 text-gray-800"}," منتجات قد تعجبك",-1)),t("div",null,[r(z,{class:"carousel-products",value:s(o).detilesStore.products,numVisible:4,numScroll:1,responsiveOptions:[{breakpoint:"1024px",numVisible:2,numScroll:1},{breakpoint:"768px",numVisible:1,numScroll:1}]},{item:I(({data:l})=>[t("div",null,[(a(),it(U,{key:l.id,onLinkClick:x=>q(l),product:l},null,8,["onLinkClick","product"]))])]),_:1},8,["value"])]),r(E,{visible:s(i).storeConflict,"onUpdate:visible":e[1]||(e[1]=l=>s(i).storeConflict=l),closable:!1,modal:"",style:{width:"25rem",textAlign:"center",borderRadius:"24px"}},{default:I(()=>[e[9]||(e[9]=t("h1",{class:"font-bold delete-title text-enter text-900"},"لا يمكن إضافة منتج لأكثر من متجر",-1)),e[10]||(e[10]=t("p",{class:"p-text-secondary"},"هل تريد حذف السابق من السلة ؟",-1)),t("div",jt,[r(p,{class:"delete-btn w-50",type:"button",label:"نعم",severity:"secondary",onClick:L}),r(p,{class:"cancel-btn w-50",type:"button",label:"إلغاء",onClick:e[0]||(e[0]=l=>s(i).resetStoreConflict())})])]),_:1,__:[9,10]},8,["visible"])])],64)}}},Rt=Y(Pt,[["__scopeId","data-v-73ef3d8d"]]),Tt={class:"flex flex-column gap-6"},ue={__name:"index",setup(T){return at({title:"تفاصيل المنتج"}),(o,y)=>{const m=J,v=Rt,i=M;return a(),d("div",null,[r(m),t("div",Tt,[r(v),r(i)])])}}};export{ue as default};
