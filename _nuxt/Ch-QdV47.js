import F from"./Bumkql5Y.js";import j from"./DrbjWj_l.js";import{u as B}from"./CdDIJBrp.js";import{Q as $,c as _,o as w,a as h,R as y,S as D,U as A,J as k,r as p,e as I,b as f,w as N,u as O}from"./CqALIQq-.js";import{u as R}from"./VrH1AKeK.js";import"./C0-otQ1q.js";import"./CMLRC_bA.js";var T={root:{position:"relative"}},x={root:"p-chart"},L=$.extend({name:"chart",inlineStyles:T,classes:x}),V={name:"BaseChart",extends:D,props:{type:String,data:null,options:null,plugins:null,width:{type:Number,default:300},height:{type:Number,default:150},canvasProps:{type:null,default:null}},style:L,provide:function(){return{$parentInstance:this}}},m={name:"Chart",extends:V,inheritAttrs:!1,emits:["select","loaded"],chart:null,watch:{data:{handler:function(){this.reinit()},deep:!0},type:function(){this.reinit()},options:function(){this.reinit()}},mounted:function(){this.initChart()},beforeUnmount:function(){this.chart&&(this.chart.destroy(),this.chart=null)},methods:{initChart:function(){var t=this;A(()=>import("./CSZ8dA-i.js"),[],import.meta.url).then(function(r){t.chart&&(t.chart.destroy(),t.chart=null),r&&r.default&&(t.chart=new r.default(t.$refs.canvas,{type:t.type,data:t.data,options:t.options,plugins:t.plugins})),t.$emit("loaded",t.chart)})},getCanvas:function(){return this.$canvas},getChart:function(){return this.chart},getBase64Image:function(){return this.chart.toBase64Image()},refresh:function(){this.chart&&this.chart.update()},reinit:function(){this.initChart()},onCanvasClick:function(t){if(this.chart){var r=this.chart.getElementsAtEventForMode(t,"nearest",{intersect:!0},!1),n=this.chart.getElementsAtEventForMode(t,"dataset",{intersect:!0},!1);r&&r[0]&&n&&this.$emit("select",{originalEvent:t,element:r[0],dataset:n})}},generateLegend:function(){if(this.chart)return this.chart.generateLegend()}}};function l(e){"@babel/helpers - typeof";return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(e)}function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C(Object(r),!0).forEach(function(n){M(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function M(e,t,r){return t=U(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U(e){var t=G(e,"string");return l(t)=="symbol"?t:String(t)}function G(e,t){if(l(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(l(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var K=["width","height"];function H(e,t,r,n,c,u){return w(),_("div",y({class:e.cx("root"),style:e.sx("root")},e.ptmi("root")),[h("canvas",y({ref:"canvas",width:e.width,height:e.height,onClick:t[0]||(t[0]=function(d){return u.onCanvasClick(d)})},S(S({},e.canvasProps),e.ptm("canvas"))),null,16,K)],16)}m.render=H;const J={class:"card row justify-content-evenly gx-3 gy-3"},Q={class:"col-12 col-md-4 col-lg-4 chart-container"},q={class:"col-12 col-md-8 col-lg-7 chart-container"},rt={__name:"statistics",setup(e){R({title:"احصائيات عامه"});const t=B(),{orderStatistics:r,storeStatistics:n}=k(t),c=p(),u=p(),d=p(),v=p();I(async()=>{await t.GetOrderStatistics(),await t.GetStoreStatistics(),P(),E()});function P(){var s,i,a,o,b,g;c.value={labels:["كل الطلبات","قيد المراجعة","قيد التنفيذ","بانتظار التسليم","المرفوضة","المكتملة"],datasets:[{data:[(s=r.value)==null?void 0:s.numberOfOrders,(i=r.value)==null?void 0:i.numberOfPendingOrders,(a=r.value)==null?void 0:a.numberOfInProgressOrders,(o=r.value)==null?void 0:o.numberOfDeliveredOrders,(b=r.value)==null?void 0:b.numberOfCancelledOrders,(g=r.value)==null?void 0:g.numberOfPaidOrders],backgroundColor:["#36A2EB","#FFCE56","#4BC0C0","#FF6384","#FF6F00","#43A047"],hoverBackgroundColor:["#1E88E5","#FFD600","#009688","#D81B60","#FF8F00","#388E3C"]}]},u.value={responsive:!0,plugins:{legend:{labels:{color:"#333"}}}}}function E(){var s,i,a,o;d.value={labels:["كل المتاجر","قيد المراجعة","المقبولة","المرفوضة"],datasets:[{label:"عدد المتاجر",data:[(s=n.value)==null?void 0:s.numberOfStores,(i=n.value)==null?void 0:i.numberOfReviewingStores,(a=n.value)==null?void 0:a.numberOfAcceptedStores,(o=n.value)==null?void 0:o.numberOfRejectedStores],backgroundColor:["#1976D2","#FFA726","#66BB6A","#E53935"]}]},v.value={responsive:!0,plugins:{legend:{labels:{color:"#333"}}},scales:{x:{ticks:{color:"#666"},grid:{color:"#eee"}},y:{ticks:{color:"#666"},grid:{color:"#eee"}}}}}return(s,i)=>{const a=F,o=j;return w(),_("div",null,[f(o,{class:"mb-3 mt-3"},{default:N(()=>[f(a,{header:"الاحصائيات"})]),_:1}),h("div",J,[h("div",Q,[f(O(m),{type:"pie",data:c.value,options:u.value,class:"h-30rem"},null,8,["data","options"])]),h("div",q,[f(O(m),{type:"bar",data:d.value,options:v.value,class:"h-30rem"},null,8,["data","options"])])])])}}};export{rt as default};
