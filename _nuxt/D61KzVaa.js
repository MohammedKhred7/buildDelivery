import _ from"./NoufmJ2E.js";import P from"./CmkT6fwr.js";import{u as w}from"./D4LLzVUe.js";import{P as E,c as b,o as g,a as u,Q as f,R as F,S as j,J as B,r as c,e as $,b as l,w as D,u as h}from"./3DgHTrxd.js";import{u as A}from"./ChvpdQ6H.js";import"./XhQwduon.js";import"./B9S46ozp.js";var k={root:{position:"relative"}},I={root:"p-chart"},N=E.extend({name:"chart",inlineStyles:k,classes:I}),R={name:"BaseChart",extends:F,props:{type:String,data:null,options:null,plugins:null,width:{type:Number,default:300},height:{type:Number,default:150},canvasProps:{type:null,default:null}},style:N,provide:function(){return{$parentInstance:this}}},d={name:"Chart",extends:R,inheritAttrs:!1,emits:["select","loaded"],chart:null,watch:{data:{handler:function(){this.reinit()},deep:!0},type:function(){this.reinit()},options:function(){this.reinit()}},mounted:function(){this.initChart()},beforeUnmount:function(){this.chart&&(this.chart.destroy(),this.chart=null)},methods:{initChart:function(){var t=this;j(()=>import("./CSZ8dA-i.js"),[],import.meta.url).then(function(r){t.chart&&(t.chart.destroy(),t.chart=null),r&&r.default&&(t.chart=new r.default(t.$refs.canvas,{type:t.type,data:t.data,options:t.options,plugins:t.plugins})),t.$emit("loaded",t.chart)})},getCanvas:function(){return this.$canvas},getChart:function(){return this.chart},getBase64Image:function(){return this.chart.toBase64Image()},refresh:function(){this.chart&&this.chart.update()},reinit:function(){this.initChart()},onCanvasClick:function(t){if(this.chart){var r=this.chart.getElementsAtEventForMode(t,"nearest",{intersect:!0},!1),n=this.chart.getElementsAtEventForMode(t,"dataset",{intersect:!0},!1);r&&r[0]&&n&&this.$emit("select",{originalEvent:t,element:r[0],dataset:n})}},generateLegend:function(){if(this.chart)return this.chart.generateLegend()}}};function o(e){"@babel/helpers - typeof";return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(e)}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m(Object(r),!0).forEach(function(n){T(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function T(e,t,r){return t=x(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x(e){var t=L(e,"string");return o(t)=="symbol"?t:String(t)}function L(e,t){if(o(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(o(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var V=["width","height"];function M(e,t,r,n,a,s){return g(),b("div",f({class:e.cx("root"),style:e.sx("root")},e.ptmi("root")),[u("canvas",f({ref:"canvas",width:e.width,height:e.height,onClick:t[0]||(t[0]=function(i){return s.onCanvasClick(i)})},v(v({},e.canvasProps),e.ptm("canvas"))),null,16,V)],16)}d.render=M;const G={class:"card row justify-content-evenly gx-3 gy-3"},K={class:"col-12 col-md-4 col-lg-4 chart-container"},U={class:"col-12 col-md-8 col-lg-7 chart-container"},tt={__name:"statistics",setup(e){A({title:"احصائيات عامه"});const t=w(),{orderStatistics:r,storeStatistics:n}=B(t),a=c(),s=c(),i=c(),p=c();$(()=>{t.GetOrderStatistics(),t.GetStoreStatistics(),y(),O()});function y(){a.value={labels:["كل الطلبات","قيد المراجعة","قيد التنفيذ","بانتظار التسليم","المرفوضة","المكتملة"],datasets:[{data:[r.value.numberOfOrders,r.value.numberOfPendingOrders,r.value.numberOfInProgressOrders,r.value.numberOfDeliveredOrders,r.value.numberOfCancelledOrders,r.value.numberOfPaidOrders],backgroundColor:["#36A2EB","#FFCE56","#4BC0C0","#FF6384","#FF6F00","#43A047"],hoverBackgroundColor:["#1E88E5","#FFD600","#009688","#D81B60","#FF8F00","#388E3C"]}]},s.value={responsive:!0,plugins:{legend:{labels:{color:"#333"}}}}}function O(){i.value={labels:["كل المتاجر","قيد المراجعة","المقبولة","المرفوضة"],datasets:[{label:"عدد المتاجر",data:[n.value.numberOfStores,n.value.numberOfReviewingStores,n.value.numberOfAcceptedStores,n.value.numberOfRejectedStores],backgroundColor:["#1976D2","#FFA726","#66BB6A","#E53935"]}]},p.value={responsive:!0,plugins:{legend:{labels:{color:"#333"}}},scales:{x:{ticks:{color:"#666"},grid:{color:"#eee"}},y:{ticks:{color:"#666"},grid:{color:"#eee"}}}}}return(H,J)=>{const C=_,S=P;return g(),b("div",null,[l(S,{class:"mb-3 mt-3"},{default:D(()=>[l(C,{header:"الاحصائيات"})]),_:1}),u("div",G,[u("div",K,[l(h(d),{type:"pie",data:a.value,options:s.value,class:"h-30rem"},null,8,["data","options"])]),u("div",U,[l(h(d),{type:"bar",data:i.value,options:p.value,class:"h-30rem"},null,8,["data","options"])])])])}}};export{tt as default};
